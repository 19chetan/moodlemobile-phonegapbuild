webpackJsonp([74],{1779:function(l,n,t){"use strict";function u(l){return f._57(0,[(l()(),f._31(0,0,null,null,1,"core-format-text",[],null,null,null,null,null)),f._30(1,540672,null,0,G.a,[f.t,L.a,z.a,N.a,E.a,H.a,T.a,B.a,J.a,K.a,S.a,$.a,[2,W.a],[2,X.a]],{text:[0,"text"]},null)],function(l,n){l(n,1,0,n.component.quiz.name)},null)}function e(l){return f._57(0,[(l()(),f._31(0,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),f._55(1,null,["",""])),f._47(131072,Y.a,[E.a,f.j])],null,function(l,n){l(n,1,0,f._56(n,1,0,f._44(n,2).transform("addon.mod_quiz.preview")))})}function a(l){return f._57(0,[(l()(),f._31(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),f._55(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.attempt.attempt)})}function i(l){return f._57(0,[(l()(),f._31(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),f._55(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function o(l){return f._57(0,[(l()(),f._31(0,0,null,null,13,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Z.b,Z.a)),f._30(1,1097728,null,3,ll.a,[nl.a,tl.a,f.t,f.V,[2,ul.a]],null,null),f._52(335544320,7,{contentLabel:0}),f._52(603979776,8,{_buttons:1}),f._52(603979776,9,{_icons:1}),f._30(5,16384,null,0,el.a,[],null,null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(7,0,null,2,2,"p",[["class","item-heading"]],null,null,null,null,null)),(l()(),f._55(8,null,[""," / ",""])),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(11,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),f._55(12,null,["",""])),(l()(),f._55(-1,2,["\n            "]))],null,function(l,n){var t=n.component;l(n,8,0,f._56(n,8,0,f._44(n,9).transform("addon.mod_quiz.marks")),t.quiz.sumGradesFormatted);l(n,12,0,t.attempt.readableMark)})}function _(l){return f._57(0,[(l()(),f._31(0,0,null,null,13,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Z.b,Z.a)),f._30(1,1097728,null,3,ll.a,[nl.a,tl.a,f.t,f.V,[2,ul.a]],null,null),f._52(335544320,10,{contentLabel:0}),f._52(603979776,11,{_buttons:1}),f._52(603979776,12,{_icons:1}),f._30(5,16384,null,0,el.a,[],null,null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(7,0,null,2,2,"p",[["class","item-heading"]],null,null,null,null,null)),(l()(),f._55(8,null,[""," / ",""])),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(11,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),f._55(12,null,["",""])),(l()(),f._55(-1,2,["\n            "]))],null,function(l,n){var t=n.component;l(n,8,0,f._56(n,8,0,f._44(n,9).transform("addon.mod_quiz.grade")),t.quiz.gradeFormatted);l(n,12,0,t.attempt.readableGrade)})}function r(l){return f._57(0,[(l()(),f._31(0,0,null,null,14,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Z.b,Z.a)),f._30(1,1097728,null,3,ll.a,[nl.a,tl.a,f.t,f.V,[2,ul.a]],null,null),f._52(335544320,13,{contentLabel:0}),f._52(603979776,14,{_buttons:1}),f._52(603979776,15,{_icons:1}),f._30(5,16384,null,0,el.a,[],null,null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(7,0,null,2,2,"p",[["class","item-heading"]],null,null,null,null,null)),(l()(),f._55(8,null,["",""])),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(11,0,null,2,2,"p",[],null,null,null,null,null)),(l()(),f._31(12,0,null,null,1,"core-format-text",[],null,null,null,null,null)),f._30(13,540672,null,0,G.a,[f.t,L.a,z.a,N.a,E.a,H.a,T.a,B.a,J.a,K.a,S.a,$.a,[2,W.a],[2,X.a]],{text:[0,"text"],component:[1,"component"],componentId:[2,"componentId"]},null),(l()(),f._55(-1,2,["\n            "]))],function(l,n){var t=n.component;l(n,13,0,t.attempt.feedback,t.component,t.componentId)},function(l,n){l(n,8,0,f._56(n,8,0,f._44(n,9).transform("addon.mod_quiz.feedback")))})}function c(l){return f._57(0,[(l()(),f._31(0,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,Z.b,Z.a)),f._30(1,1097728,null,3,ll.a,[nl.a,tl.a,f.t,f.V,[2,ul.a]],null,null),f._52(335544320,16,{contentLabel:0}),f._52(603979776,17,{_buttons:1}),f._52(603979776,18,{_icons:1}),f._30(5,16384,null,0,el.a,[],null,null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(7,0,null,2,8,"button",[["block",""],["icon-start",""],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==f._44(l,9).onClick()&&u}return u},al.b,al.a)),f._30(8,1097728,[[17,4]],0,il.a,[[8,""],tl.a,f.t,f.V],{block:[0,"block"]},null),f._30(9,16384,null,0,ol.a,[[2,W.a]],{navPush:[0,"navPush"],navParams:[1,"navParams"]},null),f._48(10,{courseId:0,quizId:1,attemptId:2}),(l()(),f._55(-1,0,["\n                    "])),(l()(),f._31(12,0,null,0,1,"ion-icon",[["name","search"],["role","img"]],[[2,"hide",null]],null,null,null,null)),f._30(13,147456,null,0,_l.a,[tl.a,f.t,f.V],{name:[0,"name"]},null),(l()(),f._55(14,0,["\n                    ","\n                "])),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,2,["\n            "]))],function(l,n){var t=n.component;l(n,8,0,"");l(n,9,0,"AddonModQuizReviewPage",l(n,10,0,t.courseId,t.quiz.id,t.attempt.id));l(n,13,0,"search")},function(l,n){l(n,12,0,f._44(n,13)._hidden);l(n,14,0,f._56(n,14,0,f._44(n,15).transform("addon.mod_quiz.review")))})}function s(l){return f._57(0,[(l()(),f._31(0,0,null,null,10,"ion-item",[["class","core-danger-item item item-block"],["text-wrap",""]],null,null,null,Z.b,Z.a)),f._30(1,1097728,null,3,ll.a,[nl.a,tl.a,f.t,f.V,[2,ul.a]],null,null),f._52(335544320,19,{contentLabel:0}),f._52(603979776,20,{_buttons:1}),f._52(603979776,21,{_icons:1}),f._30(5,16384,null,0,el.a,[],null,null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(7,0,null,2,2,"p",[],null,null,null,null,null)),(l()(),f._55(8,null,["",""])),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,2,["\n            "]))],null,function(l,n){l(n,8,0,f._56(n,8,0,f._44(n,9).transform("addon.mod_quiz.noreviewattempt")))})}function d(l){return f._57(0,[(l()(),f._31(0,0,null,null,50,"ion-list",[],null,null,null,null,null)),f._30(1,16384,null,0,rl.a,[tl.a,f.t,f.V,H.a,cl.l,sl.a],null,null),(l()(),f._55(-1,null,["\n            "])),(l()(),f._31(3,0,null,null,16,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Z.b,Z.a)),f._30(4,1097728,null,3,ll.a,[nl.a,tl.a,f.t,f.V,[2,ul.a]],null,null),f._52(335544320,1,{contentLabel:0}),f._52(603979776,2,{_buttons:1}),f._52(603979776,3,{_icons:1}),f._30(8,16384,null,0,el.a,[],null,null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(10,0,null,2,2,"p",[["class","item-heading"]],null,null,null,null,null)),(l()(),f._55(11,null,["",""])),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,2,["\n                "])),(l()(),f._26(16777216,null,2,1,null,e)),f._30(15,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._26(16777216,null,2,1,null,a)),f._30(18,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,2,["\n            "])),(l()(),f._55(-1,null,["\n            "])),(l()(),f._31(21,0,null,null,13,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Z.b,Z.a)),f._30(22,1097728,null,3,ll.a,[nl.a,tl.a,f.t,f.V,[2,ul.a]],null,null),f._52(335544320,4,{contentLabel:0}),f._52(603979776,5,{_buttons:1}),f._52(603979776,6,{_icons:1}),f._30(26,16384,null,0,el.a,[],null,null),(l()(),f._55(-1,2,["\n                "])),(l()(),f._31(28,0,null,2,2,"p",[["class","item-heading"]],null,null,null,null,null)),(l()(),f._55(29,null,["",""])),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,2,["\n                "])),(l()(),f._26(16777216,null,2,1,null,i)),f._30(33,802816,null,0,dl.j,[f._11,f._6,f.E],{ngForOf:[0,"ngForOf"]},null),(l()(),f._55(-1,2,["\n            "])),(l()(),f._55(-1,null,["\n            "])),(l()(),f._26(16777216,null,null,1,null,o)),f._30(37,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,null,["\n            "])),(l()(),f._26(16777216,null,null,1,null,_)),f._30(40,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,null,["\n            "])),(l()(),f._26(16777216,null,null,1,null,r)),f._30(43,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,null,["\n            "])),(l()(),f._26(16777216,null,null,1,null,c)),f._30(46,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,null,["\n            "])),(l()(),f._26(16777216,null,null,1,null,s)),f._30(49,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,null,["\n        "]))],function(l,n){var t=n.component;l(n,15,0,t.attempt.preview);l(n,18,0,!t.attempt.preview);l(n,33,0,t.attempt.readableState);l(n,37,0,t.quiz.showMarkColumn&&""!==t.attempt.readableMark);l(n,40,0,t.quiz.showGradeColumn&&""!==t.attempt.readableGrade);l(n,43,0,t.quiz.showFeedbackColumn&&t.attempt.feedback);l(n,46,0,t.quiz.showReviewColumn&&t.attempt.finished);l(n,49,0,!t.quiz.showReviewColumn)},function(l,n){l(n,11,0,f._56(n,11,0,f._44(n,12).transform("addon.mod_quiz.attemptnumber")));l(n,29,0,f._56(n,29,0,f._44(n,30).transform("addon.mod_quiz.attemptstate")))})}function m(l){return f._57(0,[(l()(),f._31(0,0,null,null,11,"ion-header",[],null,null,null,null,null)),f._30(1,16384,null,0,ml.a,[tl.a,f.t,f.V,[2,fl.a]],null,null),(l()(),f._55(-1,null,["\n    "])),(l()(),f._31(3,0,null,null,7,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,pl.b,pl.a)),f._30(4,49152,null,0,hl.a,[bl.a,[2,fl.a],[2,W.a],tl.a,f.t,f.V],null,null),(l()(),f._55(-1,3,["\n        "])),(l()(),f._31(6,0,null,3,3,"ion-title",[],null,null,null,vl.b,vl.a)),f._30(7,49152,null,0,zl.a,[tl.a,f.t,f.V,[2,gl.a],[2,hl.a]],null,null),(l()(),f._26(16777216,null,0,1,null,u)),f._30(9,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,3,["\n    "])),(l()(),f._55(-1,null,["\n"])),(l()(),f._55(-1,null,["\n"])),(l()(),f._31(13,0,null,null,17,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,ql.b,ql.a)),f._30(14,4374528,null,0,X.a,[tl.a,H.a,sl.a,f.t,f.V,bl.a,Il.a,f.M,[2,fl.a],[2,W.a]],null,null),(l()(),f._55(-1,1,["\n    "])),(l()(),f._31(16,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(l,n,t){var u=!0;if("ionRefresh"===n){u=!1!==l.component.doRefresh(t)&&u}return u},null,null)),f._30(17,212992,null,0,kl.a,[H.a,X.a,f.M,cl.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(l()(),f._55(-1,null,["\n        "])),(l()(),f._31(19,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,wl.b,wl.a)),f._30(20,114688,null,0,Pl.a,[kl.a,tl.a],{pullingText:[0,"pullingText"]},null),f._47(131072,Y.a,[E.a,f.j]),(l()(),f._55(-1,null,["\n    "])),(l()(),f._55(-1,1,["\n    "])),(l()(),f._31(24,0,null,1,5,"core-loading",[],null,null,null,yl.b,yl.a)),f._30(25,638976,null,0,Rl.a,[E.a,f.t],{hideUntil:[0,"hideUntil"]},null),(l()(),f._55(-1,0,["\n        "])),(l()(),f._26(16777216,null,0,1,null,d)),f._30(28,16384,null,0,dl.k,[f._11,f._6],{ngIf:[0,"ngIf"]},null),(l()(),f._55(-1,0,["\n    "])),(l()(),f._55(-1,1,["\n"])),(l()(),f._55(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,9,0,t.quiz);l(n,17,0,t.loaded);l(n,20,0,f._34(1,"",f._56(n,20,0,f._44(n,21).transform("core.pulltorefresh")),""));l(n,25,0,t.loaded);l(n,28,0,t.attempt)},function(l,n){l(n,3,0,f._44(n,4)._hidden,f._44(n,4)._sbPadding);l(n,13,0,f._44(n,14).statusbarPadding,f._44(n,14)._hasRefresher);l(n,16,0,"inactive"!==f._44(n,17).state,f._44(n,17)._top);l(n,19,0,f._44(n,20).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var f=t(0),p=t(9),h=t(7),b=t(31),v=t(30),z=t(6),g=t(132),q=t(259),I=this&&this.__decorate||function(l,n,t,u){var e,a=arguments.length,i=a<3?n:null===u?u=Object.getOwnPropertyDescriptor(n,t):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,t,u);else for(var o=l.length-1;o>=0;o--)(e=l[o])&&(i=(a<3?e(i):a>3?e(n,t,i):e(n,t))||i);return a>3&&i&&Object.defineProperty(n,t,i),i},k=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},w=function(){function l(l,n,t,u){this.domUtils=n,this.quizProvider=t,this.quizHelper=u,this.component=g.a.COMPONENT,this.attemptId=l.get("attemptId"),this.quizId=l.get("quizId"),this.courseId=l.get("courseId")}return l.prototype.ngOnInit=function(){var l=this;this.fetchQuizData().finally(function(){l.loaded=!0})},l.prototype.doRefresh=function(l){this.refreshData().finally(function(){l.complete()})},l.prototype.fetchQuizData=function(){var l=this;return this.quizProvider.getQuizById(this.courseId,this.quizId).then(function(n){return l.quiz=n,l.componentId=l.quiz.coursemodule,l.fetchAttempt()}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.mod_quiz.errorgetattempt",!0)})},l.prototype.fetchAttempt=function(){var l,n,t=this,u=[];return u.push(this.quizProvider.getUserAttempts(this.quizId).then(function(l){for(var n=0;n<l.length;n++){var u=l[n];if(u.id==t.attemptId){t.attempt=u;break}}return t.attempt?t.quizProvider.loadFinishedOfflineData([t.attempt]):Promise.reject(null)})),u.push(this.quizProvider.getCombinedReviewOptions(this.quiz.id).then(function(n){l=n})),u.push(this.quizProvider.getQuizAccessInformation(this.quiz.id).then(function(l){if((n=l).canreviewmyattempts)return t.quizProvider.getAttemptReview(t.attemptId,-1).catch(function(){n.canreviewmyattempts=!1})})),Promise.all(u).then(function(){t.quizHelper.setQuizCalculatedData(t.quiz,l),t.quiz.showReviewColumn=n.canreviewmyattempts,t.quizHelper.setAttemptCalculatedData(t.quiz,t.attempt,!1);var u=Number(t.attempt.rescaledGrade);if(t.quiz.showFeedbackColumn&&t.quizProvider.isAttemptFinished(t.attempt.state)&&l.someoptions.overallfeedback&&!isNaN(u))return t.quizProvider.getFeedbackForGrade(t.quiz.id,u).then(function(l){t.attempt.feedback=l.feedbacktext});delete t.attempt.feedback})},l.prototype.refreshData=function(){var l=this,n=[];return n.push(this.quizProvider.invalidateQuizData(this.courseId)),n.push(this.quizProvider.invalidateUserAttemptsForUser(this.quizId)),n.push(this.quizProvider.invalidateQuizAccessInformation(this.quizId)),n.push(this.quizProvider.invalidateCombinedReviewOptionsForUser(this.quizId)),n.push(this.quizProvider.invalidateAttemptReview(this.attemptId)),this.attempt&&void 0!==this.attempt.feedback&&n.push(this.quizProvider.invalidateFeedback(this.quizId)),Promise.all(n).catch(function(){}).then(function(){return l.fetchQuizData()})},l=I([Object(f.m)({selector:"page-addon-mod-quiz-attempt",templateUrl:"attempt.html"}),k("design:paramtypes",[p.r,z.a,g.a,q.a])],l)}(),P=this&&this.__decorate||function(l,n,t,u){var e,a=arguments.length,i=a<3?n:null===u?u=Object.getOwnPropertyDescriptor(n,t):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,t,u);else for(var o=l.length-1;o>=0;o--)(e=l[o])&&(i=(a<3?e(i):a>3?e(n,t,i):e(n,t))||i);return a>3&&i&&Object.defineProperty(n,t,i),i},y=function(){function l(){}return l=P([Object(f.I)({declarations:[w],imports:[b.a,v.a,p.l.forChild(w),h.b.forChild()]})],l)}(),R=t(1243),j=t(1244),x=t(1245),O=t(1246),C=t(1247),F=t(1248),V=t(1249),A=t(1250),D=t(1251),M=t(1254),Q=t(1255),U=t(1256),G=t(39),L=t(1),N=t(10),E=t(15),H=t(13),T=t(4),B=t(23),J=t(2),K=t(16),S=t(12),$=t(22),W=t(20),X=t(24),Y=t(28),Z=t(33),ll=t(19),nl=t(18),tl=t(3),ul=t(29),el=t(32),al=t(43),il=t(37),ol=t(230),_l=t(38),rl=t(75),cl=t(35),sl=t(25),dl=t(8),ml=t(402),fl=t(34),pl=t(1252),hl=t(182),bl=t(27),vl=t(1253),zl=t(315),gl=t(227),ql=t(183),Il=t(93),kl=t(139),wl=t(203),Pl=t(150),yl=t(57),Rl=t(55),jl=t(54),xl=f._29({encapsulation:2,styles:[],data:{}}),Ol=f._27("page-addon-mod-quiz-attempt",w,function(l){return f._57(0,[(l()(),f._31(0,0,null,null,1,"page-addon-mod-quiz-attempt",[],null,null,null,m,xl)),f._30(1,114688,null,0,w,[jl.a,z.a,g.a,q.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Cl=t(17),Fl=t(311),Vl=t(312),Al=t(314),Dl=t(313),Ml=t(401),Ql=t(615),Ul=t(111),Gl=t(228);t.d(n,"AddonModQuizAttemptPageModuleNgFactory",function(){return Ll});var Ll=f._28(y,[],function(l){return f._40([f._41(512,f.o,f._21,[[8,[R.a,j.a,x.a,O.a,C.a,F.a,V.a,A.a,D.a,M.a,Q.a,U.a,Ol]],[3,f.o],f.K]),f._41(4608,dl.m,dl.l,[f.G,[2,dl.v]]),f._41(4608,Cl.x,Cl.x,[]),f._41(4608,Cl.d,Cl.d,[]),f._41(4608,Fl.b,Fl.a,[]),f._41(4608,Vl.a,Vl.b,[]),f._41(4608,Al.b,Al.a,[]),f._41(4608,Dl.b,Dl.a,[]),f._41(4608,E.a,E.a,[Ml.a,Fl.b,Vl.a,Al.b,Dl.b,E.b,E.c]),f._41(512,dl.b,dl.b,[]),f._41(512,Cl.v,Cl.v,[]),f._41(512,Cl.i,Cl.i,[]),f._41(512,Cl.s,Cl.s,[]),f._41(512,Ql.a,Ql.a,[]),f._41(512,h.b,h.b,[]),f._41(512,v.a,v.a,[]),f._41(512,Ul.a,Ul.a,[]),f._41(512,b.a,b.a,[]),f._41(512,Ql.b,Ql.b,[]),f._41(512,y,y,[]),f._41(256,E.c,void 0,[]),f._41(256,E.b,void 0,[]),f._41(256,Gl.a,w,[])])})}});