{"version":3,"sources":["../../src/core/courses/pages/my-courses/my-courses.module.ts","../../src/core/courses/components/components.module.ts","../../src/core/courses/components/course-progress/course-progress.ts","../../src/core/courses/components/course-list-item/course-list-item.ts","../../src/core/courses/components/overview-events/overview-events.ts","../../src/core/courses/pages/my-courses/my-courses.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreCoursesMyCoursesPage } from './my-courses';\nimport { CoreComponentsModule } from '../../../../components/components.module';\nimport { CoreCoursesComponentsModule } from '../../components/components.module';\n\n@NgModule({\n    declarations: [\n        CoreCoursesMyCoursesPage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreCoursesComponentsModule,\n        IonicPageModule.forChild(CoreCoursesMyCoursesPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class CoreCoursesMyCoursesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/courses/pages/my-courses/my-courses.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreComponentsModule } from '../../../components/components.module';\nimport { CoreDirectivesModule } from '../../../directives/directives.module';\nimport { CorePipesModule } from '../../../pipes/pipes.module';\nimport { CoreCoursesCourseProgressComponent } from '../components/course-progress/course-progress';\nimport { CoreCoursesCourseListItemComponent } from '../components/course-list-item/course-list-item';\nimport { CoreCoursesOverviewEventsComponent } from '../components/overview-events/overview-events';\n\n@NgModule({\n    declarations: [\n        CoreCoursesCourseProgressComponent,\n        CoreCoursesCourseListItemComponent,\n        CoreCoursesOverviewEventsComponent\n    ],\n    imports: [\n        CommonModule,\n        IonicModule,\n        TranslateModule.forChild(),\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CorePipesModule\n    ],\n    providers: [\n    ],\n    exports: [\n        CoreCoursesCourseProgressComponent,\n        CoreCoursesCourseListItemComponent,\n        CoreCoursesOverviewEventsComponent\n    ]\n})\nexport class CoreCoursesComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/courses/components/components.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit, OnDestroy } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { CoreEventsProvider } from '../../../../providers/events';\nimport { CoreSitesProvider } from '../../../../providers/sites';\nimport { CoreDomUtilsProvider } from '../../../../providers/utils/dom';\nimport { CoreCourseFormatDelegate } from '../../../course/providers/format-delegate';\nimport { CoreCourseProvider } from '../../../course/providers/course';\nimport { CoreCourseHelperProvider } from '../../../course/providers/helper';\n\n/**\n * This component is meant to display a course for a list of courses with progress.\n *\n * Example usage:\n *\n * <core-courses-course-progress [course]=\"course\">\n * </core-courses-course-progress>\n */\n@Component({\n    selector: 'core-courses-course-progress',\n    templateUrl: 'course-progress.html'\n})\nexport class CoreCoursesCourseProgressComponent implements OnInit, OnDestroy {\n    @Input() course: any; // The course to render.\n\n    isDownloading: boolean;\n    prefetchCourseData = {\n        prefetchCourseIcon: 'spinner'\n    };\n\n    protected isDestroyed = false;\n    protected courseStatusObserver;\n\n    constructor(private navCtrl: NavController, private courseHelper: CoreCourseHelperProvider,\n            private courseFormatDelegate: CoreCourseFormatDelegate, private domUtils: CoreDomUtilsProvider,\n            private courseProvider: CoreCourseProvider, eventsProvider: CoreEventsProvider, sitesProvider: CoreSitesProvider) {\n        // Listen for status change in course.\n        this.courseStatusObserver = eventsProvider.on(CoreEventsProvider.COURSE_STATUS_CHANGED, (data) => {\n            if (data.courseId == this.course.id) {\n                this.prefetchCourseData.prefetchCourseIcon = this.courseHelper.getCourseStatusIconFromStatus(data.status);\n            }\n        }, sitesProvider.getCurrentSiteId());\n    }\n\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {\n        // Determine course prefetch icon.\n        this.courseHelper.getCourseStatusIcon(this.course.id).then((icon) => {\n            this.prefetchCourseData.prefetchCourseIcon = icon;\n\n            if (icon == 'spinner') {\n                // Course is being downloaded. Get the download promise.\n                const promise = this.courseHelper.getCourseDownloadPromise(this.course.id);\n                if (promise) {\n                    // There is a download promise. If it fails, show an error.\n                    promise.catch((error) => {\n                        if (!this.isDestroyed) {\n                            this.domUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n                        }\n                    });\n                } else {\n                    // No download, this probably means that the app was closed while downloading. Set previous status.\n                    this.courseProvider.setCoursePreviousStatus(this.course.id);\n                }\n            }\n        });\n    }\n\n    /**\n     * Open a course.\n     *\n     * @param {any} course The course to open.\n     */\n    openCourse(course: any): void {\n        this.courseFormatDelegate.openCourse(this.navCtrl, course);\n    }\n\n    /**\n     * Prefetch the course.\n     *\n     * @param {Event} e Click event.\n     */\n    prefetchCourse(e: Event): void {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.courseHelper.confirmAndPrefetchCourse(this.prefetchCourseData, this.course).catch((error) => {\n            if (!this.isDestroyed) {\n                this.domUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n            }\n        });\n    }\n\n    /**\n     * Component destroyed.\n     */\n    ngOnDestroy(): void {\n        this.isDestroyed = true;\n\n        if (this.courseStatusObserver) {\n            this.courseStatusObserver.off();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/courses/components/course-progress/course-progress.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CoreCoursesProvider } from '../../providers/courses';\n\n/**\n * This directive is meant to display an item for a list of courses.\n *\n * Example usage:\n *\n * <core-courses-course-list-item [course]=\"course\"></core-courses-course-list-item>\n */\n@Component({\n    selector: 'core-courses-course-list-item',\n    templateUrl: 'course-list-item.html'\n})\nexport class CoreCoursesCourseListItemComponent implements OnInit {\n    @Input() course: any; // The course to render.\n\n    constructor(private navCtrl: NavController, private translate: TranslateService, private coursesProvider: CoreCoursesProvider) {\n    }\n\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {\n        // Check if the user is enrolled in the course.\n        this.coursesProvider.getUserCourse(this.course.id).then(() => {\n            this.course.isEnrolled = true;\n        }).catch(() => {\n            this.course.isEnrolled = false;\n            this.course.enrollment = [];\n\n            this.course.enrollmentmethods.forEach((instance) => {\n                if (instance === 'self') {\n                    this.course.enrollment.push({\n                        name: this.translate.instant('core.courses.selfenrolment'),\n                        icon: 'unlock'\n                    });\n                } else if (instance === 'guest') {\n                    this.course.enrollment.push({\n                        name: this.translate.instant('core.courses.allowguests'),\n                        icon: 'person'\n                    });\n                } else if (instance === 'paypal') {\n                    this.course.enrollment.push({\n                        name: this.translate.instant('core.courses.paypalaccepted'),\n                        img: 'assets/img/icons/paypal.png'\n                    });\n                }\n            });\n\n            if (this.course.enrollment.length == 0) {\n                this.course.enrollment.push({\n                    name: this.translate.instant('core.courses.notenrollable'),\n                    icon: 'lock'\n                });\n            }\n        });\n    }\n\n    /**\n     * Open a course.\n     *\n     * @param {any} course The course to open.\n     */\n    openCourse(course: any): void {\n        this.navCtrl.push('CoreCoursesCoursePreviewPage', {course: course});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/courses/components/course-list-item/course-list-item.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, Output, OnChanges, EventEmitter, SimpleChange } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { CoreSitesProvider } from '../../../../providers/sites';\nimport { CoreDomUtilsProvider } from '../../../../providers/utils/dom';\nimport { CoreTextUtilsProvider } from '../../../../providers/utils/text';\nimport { CoreUtilsProvider } from '../../../../providers/utils/utils';\nimport { CoreCourseProvider } from '../../../course/providers/course';\nimport { CoreContentLinksHelperProvider } from '../../../contentlinks/providers/helper';\nimport * as moment from 'moment';\n\n/**\n * Directive to render a list of events in course overview.\n */\n@Component({\n    selector: 'core-courses-overview-events',\n    templateUrl: 'overview-events.html'\n})\nexport class CoreCoursesOverviewEventsComponent implements OnChanges {\n    @Input() events: any[]; // The events to render.\n    @Input() showCourse?: boolean | string; // Whether to show the course name.\n    @Input() canLoadMore?: boolean; // Whether more events can be loaded.\n    @Output() loadMore: EventEmitter<void>; // Notify that more events should be loaded.\n\n    empty: boolean;\n    loadingMore: boolean;\n    recentlyOverdue: any[] = [];\n    today: any[] = [];\n    next7Days: any[] = [];\n    next30Days: any[] = [];\n    future: any[] = [];\n\n    constructor(private navCtrl: NavController, private utils: CoreUtilsProvider, private textUtils: CoreTextUtilsProvider,\n            private domUtils: CoreDomUtilsProvider, private sitesProvider: CoreSitesProvider,\n            private courseProvider: CoreCourseProvider, private contentLinksHelper: CoreContentLinksHelperProvider) {\n        this.loadMore = new EventEmitter();\n    }\n\n    /**\n     * Detect changes on input properties.\n     */\n    ngOnChanges(changes: {[name: string]: SimpleChange}): void {\n        this.showCourse = this.utils.isTrueOrOne(this.showCourse);\n\n        if (changes.events) {\n            this.updateEvents();\n        }\n    }\n\n    /**\n     * Filter the events by time.\n     *\n     * @param {number} start Number of days to start getting events from today. E.g. -1 will get events from yesterday.\n     * @param {number} [end] Number of days after the start.\n     * @return {any[]} Filtered events.\n     */\n    protected filterEventsByTime(start: number, end?: number): any[] {\n        start = moment().add(start, 'days').unix();\n        end = typeof end != 'undefined' ? moment().add(end, 'days').unix() : end;\n\n        return this.events.filter((event) => {\n            if (end) {\n                return start <= event.timesort && event.timesort < end;\n            }\n\n            return start <= event.timesort;\n        }).map((event) => {\n            event.iconUrl = this.courseProvider.getModuleIconSrc(event.icon.component);\n\n            return event;\n        });\n    }\n\n    /**\n     * Update the events displayed.\n     */\n    protected updateEvents(): void {\n        this.empty = !this.events || this.events.length <= 0;\n        if (!this.empty) {\n            this.recentlyOverdue = this.filterEventsByTime(-14, 0);\n            this.today = this.filterEventsByTime(0, 1);\n            this.next7Days = this.filterEventsByTime(1, 7);\n            this.next30Days = this.filterEventsByTime(7, 30);\n            this.future = this.filterEventsByTime(30);\n        }\n    }\n\n    /**\n     * Load more events clicked.\n     */\n    loadMoreEvents(): void {\n        this.loadingMore = true;\n        this.loadMore.emit();\n    }\n\n    /**\n     * Action clicked.\n     *\n     * @param {Event} e Click event.\n     * @param {string} url Url of the action.\n     */\n    action(e: Event, url: string): void {\n        e.preventDefault();\n        e.stopPropagation();\n\n        // Fix URL format.\n        url = this.textUtils.decodeHTMLEntities(url);\n\n        const modal = this.domUtils.showModalLoading();\n        this.contentLinksHelper.handleLink(url, undefined, this.navCtrl).then((treated) => {\n            if (!treated) {\n                return this.sitesProvider.getCurrentSite().openInBrowserWithAutoLoginIfSameSite(url);\n            }\n        }).finally(() => {\n            modal.dismiss();\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/courses/components/overview-events/overview-events.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { CoreEventsProvider } from '../../../../providers/events';\nimport { CoreSitesProvider } from '../../../../providers/sites';\nimport { CoreDomUtilsProvider } from '../../../../providers/utils/dom';\nimport { CoreCoursesProvider } from '../../providers/courses';\nimport { CoreCourseHelperProvider } from '../../../course/providers/helper';\nimport { CoreCourseOptionsDelegate } from '../../../course/providers/options-delegate';\n\n/**\n * Page that displays the list of courses the user is enrolled in.\n */\n@IonicPage({ segment: 'core-courses-my-courses' })\n@Component({\n    selector: 'page-core-courses-my-courses',\n    templateUrl: 'my-courses.html',\n})\nexport class CoreCoursesMyCoursesPage implements OnDestroy {\n    courses: any[];\n    filteredCourses: any[];\n    searchEnabled: boolean;\n    filter = '';\n    showFilter = false;\n    coursesLoaded = false;\n    prefetchCoursesData: any = {};\n\n    protected prefetchIconInitialized = false;\n    protected myCoursesObserver;\n    protected siteUpdatedObserver;\n    protected isDestroyed = false;\n\n    constructor(private navCtrl: NavController, private coursesProvider: CoreCoursesProvider,\n            private domUtils: CoreDomUtilsProvider, private eventsProvider: CoreEventsProvider,\n            private sitesProvider: CoreSitesProvider, private courseHelper: CoreCourseHelperProvider,\n            private courseOptionsDelegate: CoreCourseOptionsDelegate) { }\n\n    /**\n     * View loaded.\n     */\n    ionViewDidLoad(): void {\n        this.searchEnabled = !this.coursesProvider.isSearchCoursesDisabledInSite();\n\n        this.fetchCourses().finally(() => {\n            this.coursesLoaded = true;\n        });\n\n        this.myCoursesObserver = this.eventsProvider.on(CoreCoursesProvider.EVENT_MY_COURSES_UPDATED, () => {\n            this.fetchCourses();\n        }, this.sitesProvider.getCurrentSiteId());\n\n        this.siteUpdatedObserver = this.eventsProvider.on(CoreEventsProvider.SITE_UPDATED, () => {\n            this.searchEnabled = !this.coursesProvider.isSearchCoursesDisabledInSite();\n        }, this.sitesProvider.getCurrentSiteId());\n    }\n\n    /**\n     * Fetch the user courses.\n     *\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    protected fetchCourses(): Promise<any> {\n        return this.coursesProvider.getUserCourses().then((courses) => {\n\n            const courseIds = courses.map((course) => {\n                return course.id;\n            });\n\n            return this.coursesProvider.getCoursesAdminAndNavOptions(courseIds).then((options) => {\n                courses.forEach((course) => {\n                    course.navOptions = options.navOptions[course.id];\n                    course.admOptions = options.admOptions[course.id];\n                });\n                this.courses = courses;\n                this.filteredCourses = this.courses;\n                this.filter = '';\n\n                this.initPrefetchCoursesIcon();\n            });\n        }).catch((error) => {\n            this.domUtils.showErrorModalDefault(error, 'core.courses.errorloadcourses', true);\n        });\n    }\n\n    /**\n     * Refresh the courses.\n     *\n     * @param {any} refresher Refresher.\n     */\n    refreshCourses(refresher: any): void {\n        const promises = [];\n\n        promises.push(this.coursesProvider.invalidateUserCourses());\n        promises.push(this.courseOptionsDelegate.clearAndInvalidateCoursesOptions());\n\n        Promise.all(promises).finally(() => {\n\n            this.prefetchIconInitialized = false;\n            this.fetchCourses().finally(() => {\n                refresher.complete();\n            });\n        });\n    }\n\n    /**\n     * Show or hide the filter.\n     */\n    switchFilter(): void {\n        this.filter = '';\n        this.showFilter = !this.showFilter;\n        this.filteredCourses = this.courses;\n    }\n\n    /**\n     * Go to search courses.\n     */\n    openSearch(): void {\n        this.navCtrl.push('CoreCoursesSearchPage');\n    }\n\n    /**\n     * The filter has changed.\n     *\n     * @param {string} newValue New filter value.\n     */\n    filterChanged(newValue: string): void {\n        if (!newValue || !this.courses) {\n            this.filteredCourses = this.courses;\n        } else {\n            this.filteredCourses = this.courses.filter((course) => {\n                return course.fullname.indexOf(newValue) > -1;\n            });\n        }\n    }\n\n    /**\n     * Prefetch all the courses.\n     *\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    prefetchCourses(): Promise<any> {\n        const initialIcon = this.prefetchCoursesData.icon;\n\n        this.prefetchCoursesData.icon = 'spinner';\n        this.prefetchCoursesData.badge = '';\n\n        return this.courseHelper.confirmAndPrefetchCourses(this.courses, (progress) => {\n            this.prefetchCoursesData.badge = progress.count + ' / ' + progress.total;\n        }).then((downloaded) => {\n            this.prefetchCoursesData.icon = downloaded ? 'ion-android-refresh' : initialIcon;\n        }, (error) => {\n            if (!this.isDestroyed) {\n                this.domUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n                this.prefetchCoursesData.icon = initialIcon;\n            }\n        }).finally(() => {\n            this.prefetchCoursesData.badge = '';\n        });\n    }\n\n    /**\n     * Initialize the prefetch icon for the list of courses.\n     */\n    protected initPrefetchCoursesIcon(): void {\n        if (this.prefetchIconInitialized) {\n            // Already initialized.\n            return;\n        }\n\n        this.prefetchIconInitialized = true;\n\n        if (!this.courses || this.courses.length < 2) {\n            // Not enough courses.\n            this.prefetchCoursesData.icon = '';\n\n            return;\n        }\n\n        this.courseHelper.determineCoursesStatus(this.courses).then((status) => {\n            let icon = this.courseHelper.getCourseStatusIconFromStatus(status);\n            if (icon == 'spinner') {\n                // It seems all courses are being downloaded, show a download button instead.\n                icon = 'cloud-download';\n            }\n            this.prefetchCoursesData.icon = icon;\n        });\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.isDestroyed = true;\n        this.myCoursesObserver && this.myCoursesObserver.off();\n        this.siteUpdatedObserver && this.siteUpdatedObserver.off();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/courses/pages/my-courses/my-courses.ts"],"sourceRoot":""}