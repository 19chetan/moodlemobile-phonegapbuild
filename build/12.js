webpackJsonp([12],{1751:function(l,n,t){"use strict";function e(l){return h._57(0,[(l()(),h._31(0,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.showChatUsers()&&e}return e},q.b,q.a)),h._30(1,1097728,[[2,4]],0,N.a,[[8,""],G.a,h.t,h.V],null,null),(l()(),h._55(-1,0,["\n                "])),(l()(),h._31(3,0,null,0,1,"ion-icon",[["name","people"],["role","img"]],[[2,"hide",null]],null,null,null,null)),h._30(4,147456,null,0,J.a,[G.a,h.t,h.V],{name:[0,"name"]},null),(l()(),h._55(-1,0,["\n            "]))],function(l,n){l(n,4,0,"people")},function(l,n){l(n,3,0,h._44(n,4)._hidden)})}function u(l){return h._57(0,[(l()(),h._31(0,0,null,null,9,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._31(2,0,null,null,6,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[G.a,h.t,h.V],{color:[0,"color"]},null),(l()(),h._55(-1,null,["\n                        "])),(l()(),h._31(5,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),h._55(6,null,["",""])),h._49(7,2),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._55(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,h._56(n,6,0,l(n,7,0,h._44(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"dfdayweekmonth")))})}function o(l){return h._57(0,[(l()(),h._31(0,0,null,null,11,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._31(2,0,null,null,8,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[G.a,h.t,h.V],{color:[0,"color"]},null),(l()(),h._55(-1,null,["\n                        "])),(l()(),h._31(5,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),h._55(6,null,[""," ",""])),h._49(7,2),h._48(8,{$a:0}),h._47(131072,X.a,[Y.a,h.j]),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._55(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,h._56(n,6,0,l(n,7,0,h._44(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"dftimedate")),h._56(n,6,1,h._44(n,9).transform("addon.mod_chat.messageenter",l(n,8,0,n.parent.context.$implicit.userfullname))))})}function a(l){return h._57(0,[(l()(),h._31(0,0,null,null,11,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._31(2,0,null,null,8,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[G.a,h.t,h.V],{color:[0,"color"]},null),(l()(),h._55(-1,null,["\n                        "])),(l()(),h._31(5,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),h._55(6,null,[""," ",""])),h._49(7,2),h._48(8,{$a:0}),h._47(131072,X.a,[Y.a,h.j]),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._55(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,h._56(n,6,0,l(n,7,0,h._44(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"dftimedate")),h._56(n,6,1,h._44(n,9).transform("addon.mod_chat.messageexit",l(n,8,0,n.parent.context.$implicit.userfullname))))})}function i(l){return h._57(0,[(l()(),h._31(0,0,null,null,10,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._31(2,0,null,null,7,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),h._30(3,16384,null,0,Q.a,[G.a,h.t,h.V],{color:[0,"color"]},null),(l()(),h._55(-1,null,["\n                        "])),(l()(),h._31(5,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),h._55(6,null,["",""])),h._48(7,{$a:0}),h._47(131072,X.a,[Y.a,h.j]),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._55(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,h._56(n,6,0,h._44(n,8).transform("addon.mod_chat.messagebeepsyou",l(n,7,0,n.parent.context.$implicit.userfullname))))})}function s(l){return h._57(0,[(l()(),h._31(0,0,null,null,28,"ion-item",[["class","addon-mod-chat-message item item-block"],["text-wrap",""]],null,null,null,Z.b,Z.a)),h._30(1,1097728,null,3,ll.a,[nl.a,G.a,h.t,h.V,[2,tl.a]],null,null),h._52(335544320,3,{contentLabel:0}),h._52(603979776,4,{_buttons:1}),h._52(603979776,5,{_icons:1}),h._30(5,16384,null,0,el.a,[],null,null),(l()(),h._55(-1,2,["\n                    "])),(l()(),h._31(7,0,null,0,7,"ion-avatar",[["item-start",""]],null,null,null,null,null)),h._30(8,16384,null,0,ul.a,[],null,null),(l()(),h._55(-1,null,["\n                        "])),(l()(),h._31(10,0,null,null,3,"img",[["core-external-content",""],["onError","this.src='assets/img/user-avatar.png'"],["role","presentation"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),h._30(11,4210688,null,0,ol.a,[h.t,C.a,al.a,il.a,I.a,w.a,sl.a,x.a],null,null),h._48(12,{$a:0}),h._47(131072,X.a,[Y.a,h.j]),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._55(-1,2,["\n                    "])),(l()(),h._31(16,0,null,2,8,"h2",[],null,null,null,null,null)),(l()(),h._55(-1,null,["\n                        "])),(l()(),h._31(18,0,null,null,2,"p",[["float-right",""]],null,null,null,null,null)),(l()(),h._55(19,null,["",""])),h._49(20,2),(l()(),h._55(-1,null,["\n                        "])),(l()(),h._31(22,0,null,null,1,"core-format-text",[],null,null,null,null,null)),h._30(23,540672,null,0,rl.a,[h.t,I.a,w.a,P.a,Y.a,il.a,cl.a,sl.a,C.a,al.a,x.a,_l.a,[2,dl.a],[2,gl.a]],{text:[0,"text"]},null),(l()(),h._55(-1,null,["\n                    "])),(l()(),h._55(-1,2,["\n                    "])),(l()(),h._31(26,0,null,2,1,"core-format-text",[],null,[[null,"afterRender"]],function(l,n,t){var e=!0;if("afterRender"===n){e=!1!==(l.parent.context.last&&l.component.scrollToBottom())&&e}return e},null,null)),h._30(27,540672,null,0,rl.a,[h.t,I.a,w.a,P.a,Y.a,il.a,cl.a,sl.a,C.a,al.a,x.a,_l.a,[2,dl.a],[2,gl.a]],{text:[0,"text"]},{afterRender:"afterRender"}),(l()(),h._55(-1,2,["\n                "]))],function(l,n){l(n,23,0,n.parent.context.$implicit.userfullname);l(n,27,0,n.parent.context.$implicit.message)},function(l,n){l(n,10,0,n.parent.context.$implicit.userprofileimageurl,h._56(n,10,1,h._44(n,13).transform("core.pictureof",l(n,12,0,n.parent.context.$implicit.userfullname))));l(n,19,0,h._56(n,19,0,l(n,20,0,h._44(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"dftimedate")))})}function r(l){return h._57(0,[(l()(),h._31(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),h._55(-1,null,["\n\n                "])),(l()(),h._26(16777216,null,null,1,null,u)),h._30(3,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,null,["\n\n                "])),(l()(),h._26(16777216,null,null,1,null,o)),h._30(6,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,null,["\n\n                "])),(l()(),h._26(16777216,null,null,1,null,a)),h._30(9,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,null,["\n\n                "])),(l()(),h._26(16777216,null,null,1,null,i)),h._30(12,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,null,["\n\n                "])),(l()(),h._26(16777216,null,null,1,null,s)),h._30(15,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,null,["\n            "]))],function(l,n){var t=n.component;l(n,3,0,t.showDate(t.messages[n.context.index],t.messages[n.context.index-1]));l(n,6,0,n.context.$implicit.system&&"enter"==n.context.$implicit.message);l(n,9,0,n.context.$implicit.system&&"exit"==n.context.$implicit.message);l(n,12,0,n.context.$implicit.message==t.currentUserBeep);l(n,15,0,!n.context.$implicit.system&&"beep"!=n.context.$implicit.message.substr(0,4))},null)}function c(l){return h._57(0,[(l()(),h._31(0,0,null,null,5,"div",[["margin",""],["text-center",""]],null,null,null,null,null)),(l()(),h._55(-1,null,["\n                "])),(l()(),h._31(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),h._55(3,null,["",""])),h._47(131072,X.a,[Y.a,h.j]),(l()(),h._55(-1,null,["\n            "]))],null,function(l,n){l(n,3,0,h._56(n,3,0,h._44(n,4).transform("addon.mod_chat.nomessages")))})}function _(l){return h._57(0,[(l()(),h._31(0,0,null,null,2,"p",[["text-center",""]],null,null,null,null,null)),(l()(),h._55(1,null,["",""])),h._47(131072,X.a,[Y.a,h.j])],null,function(l,n){l(n,1,0,h._56(n,1,0,h._44(n,2).transform("addon.mod_chat.mustbeonlinetosendmessages")))})}function d(l){return h._57(0,[(l()(),h._31(0,0,null,null,2,"core-send-message-form",[],null,[[null,"onSubmit"],[null,"onResize"]],function(l,n,t){var e=!0,u=l.component;if("onSubmit"===n){e=!1!==u.sendMessage(t)&&e}if("onResize"===n){e=!1!==u.resizeContent()&&e}return e},hl.b,hl.a)),h._30(1,114688,null,0,ml.a,[cl.a,P.a],{message:[0,"message"],placeholder:[1,"placeholder"],showKeyboard:[2,"showKeyboard"]},{onSubmit:"onSubmit",onResize:"onResize"}),h._47(131072,X.a,[Y.a,h.j])],function(l,n){var t=n.component;l(n,1,0,t.newMessage,h._56(n,1,1,h._44(n,2).transform("addon.messages.newmessage")),t.showKeyboard)},null)}function g(l){return h._57(0,[(l()(),h._31(0,0,null,null,3,"button",[["block",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.reconnect()&&e}return e},q.b,q.a)),h._30(1,1097728,null,0,N.a,[[8,""],G.a,h.t,h.V],{color:[0,"color"],block:[1,"block"]},null),(l()(),h._55(2,0,["",""])),h._47(131072,X.a,[Y.a,h.j])],function(l,n){l(n,1,0,"light","")},function(l,n){l(n,2,0,h._56(n,2,0,h._44(n,3).transform("core.login.reconnect")))})}function f(l){return h._57(0,[h._47(0,pl.a,[C.a,Y.a]),h._52(402653184,1,{content:0}),(l()(),h._31(2,0,null,null,19,"ion-header",[],null,null,null,null,null)),h._30(3,16384,null,0,bl.a,[G.a,h.t,h.V,[2,vl.a]],null,null),(l()(),h._55(-1,null,["\n    "])),(l()(),h._31(5,0,null,null,15,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,yl.b,yl.a)),h._30(6,49152,null,0,xl.a,[Cl.a,[2,vl.a],[2,dl.a],G.a,h.t,h.V],null,null),(l()(),h._55(-1,3,["\n        "])),(l()(),h._31(8,0,null,3,3,"ion-title",[],null,null,null,Il.b,Il.a)),h._30(9,49152,null,0,wl.a,[G.a,h.t,h.V,[2,Pl.a],[2,xl.a]],null,null),(l()(),h._31(10,0,null,0,1,"core-format-text",[],null,null,null,null,null)),h._30(11,540672,null,0,rl.a,[h.t,I.a,w.a,P.a,Y.a,il.a,cl.a,sl.a,C.a,al.a,x.a,_l.a,[2,dl.a],[2,gl.a]],{text:[0,"text"]},null),(l()(),h._55(-1,3,["\n        "])),(l()(),h._31(13,0,null,2,6,"ion-buttons",[["end",""]],null,null,null,null,null)),h._30(14,16384,null,1,kl.a,[G.a,h.t,h.V,[2,Pl.a],[2,xl.a]],null,null),h._52(603979776,2,{_buttons:1}),(l()(),h._55(-1,null,["\n            "])),(l()(),h._26(16777216,null,null,1,null,e)),h._30(18,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,null,["\n        "])),(l()(),h._55(-1,3,["\n    "])),(l()(),h._55(-1,null,["\n"])),(l()(),h._55(-1,null,["\n"])),(l()(),h._31(23,0,null,null,15,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Ml.b,Ml.a)),h._30(24,4374528,[[1,4]],0,gl.a,[G.a,il.a,Rl.a,h.t,h.V,Cl.a,Ol.a,h.M,[2,vl.a],[2,dl.a]],null,null),(l()(),h._55(-1,1,["\n    "])),(l()(),h._31(26,0,null,1,11,"core-loading",[],null,null,null,Ul.b,Ul.a)),h._30(27,638976,null,0,Vl.a,[Y.a,h.t],{hideUntil:[0,"hideUntil"]},null),(l()(),h._55(-1,0,["\n        "])),(l()(),h._31(29,0,null,0,7,"div",[["aria-live","polite"]],null,null,null,null,null)),(l()(),h._55(-1,null,["\n            "])),(l()(),h._26(16777216,null,null,1,null,r)),h._30(32,802816,null,0,fl.j,[h._11,h._6,h.E],{ngForOf:[0,"ngForOf"]},null),(l()(),h._55(-1,null,["\n\n            "])),(l()(),h._26(16777216,null,null,1,null,c)),h._30(35,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,null,["\n        "])),(l()(),h._55(-1,0,["\n    "])),(l()(),h._55(-1,1,["\n"])),(l()(),h._55(-1,null,["\n"])),(l()(),h._31(40,0,null,null,15,"ion-footer",[["class","footer-adjustable"],["color","light"]],null,null,null,null,null)),h._30(41,16384,null,0,jl.a,[G.a,h.t,h.V,[2,vl.a]],{color:[0,"color"]},null),(l()(),h._55(-1,null,["\n    "])),(l()(),h._31(43,0,null,null,11,"ion-toolbar",[["class","toolbar"],["color","light"],["position","bottom"]],[[2,"statusbar-padding",null]],null,null,Dl.b,Dl.a)),h._30(44,49152,null,0,Pl.a,[G.a,h.t,h.V],{color:[0,"color"]},null),(l()(),h._55(-1,3,["\n        "])),(l()(),h._26(16777216,null,3,1,null,_)),h._30(47,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,3,["\n        "])),(l()(),h._26(16777216,null,3,1,null,d)),h._30(50,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,3,["\n        "])),(l()(),h._26(16777216,null,3,1,null,g)),h._30(53,16384,null,0,fl.k,[h._11,h._6],{ngIf:[0,"ngIf"]},null),(l()(),h._55(-1,3,["\n    "])),(l()(),h._55(-1,null,["\n"])),(l()(),h._55(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,11,0,t.title);l(n,18,0,t.loaded);l(n,27,0,t.loaded);l(n,32,0,t.messages);l(n,35,0,!t.messages||t.messages.length<=0);l(n,41,0,"light");l(n,44,0,"light");l(n,47,0,!t.isOnline);l(n,50,0,t.isOnline&&t.polling&&t.loaded);l(n,53,0,t.isOnline&&!t.polling&&t.loaded)},function(l,n){l(n,5,0,h._44(n,6)._hidden,h._44(n,6)._sbPadding);l(n,23,0,h._44(n,24).statusbarPadding,h._44(n,24)._hasRefresher);l(n,43,0,h._44(n,44)._sbPadding)})}Object.defineProperty(n,"__esModule",{value:!0});var h=t(0),m=t(9),p=t(7),b=t(31),v=t(30),y=t(111),x=t(12),C=t(2),I=t(1),w=t(6),P=t(10),k=t(321),M=t(189),R=t(11),O=this&&this.__decorate||function(l,n,t,e){var u,o=arguments.length,a=o<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,t):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(l,n,t,e);else for(var i=l.length-1;i>=0;i--)(u=l[i])&&(a=(o<3?u(a):o>3?u(n,t,a):u(n,t))||a);return o>3&&a&&Object.defineProperty(n,t,a),a},U=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},V=function(){function l(l,n,t,e,u,o,a,i,s,r){var c=this;this.navCtrl=e,this.chatProvider=u,this.appProvider=o,this.modalCtrl=i,this.domUtils=s,this.textUtils=r,this.loaded=!1,this.messages=[],this.lastTime=0,this.oldContentHeight=0,this.viewDestroyed=!1,this.pollingRunning=!1,this.chatId=l.get("chatId"),this.courseId=l.get("courseId"),this.title=l.get("title"),this.logger=n.getInstance("AddonModChoiceChoicePage"),this.currentUserBeep="beep "+a.getCurrentSiteUserId(),this.isOnline=this.appProvider.isOnline(),this.onlineObserver=t.onchange().subscribe(function(l){c.isOnline=c.appProvider.isOnline()})}return l.prototype.ionViewDidLoad=function(){var l=this;this.loginUser().then(function(){return l.fetchMessages().then(function(){l.startPolling()}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.mod_chat.errorwhileretrievingmessages",!0),l.navCtrl.pop()})}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.mod_chat.errorwhileconnecting",!0),l.navCtrl.pop()}).finally(function(){l.loaded=!0})},l.prototype.ionViewDidEnter=function(){this.startPolling()},l.prototype.ionViewWillLeave=function(){this.stopPolling()},l.prototype.showChatUsers=function(){var l=this,n=this.modalCtrl.create("AddonModChatUsersPage",{sessionId:this.sessionId});n.onDidDismiss(function(n){n&&n.talkTo&&(l.newMessage="To "+n.talkTo+": "),n&&n.beepTo&&l.sendMessage("",n.beepTo)}),n.present()},l.prototype.loginUser=function(){var l=this;return this.chatProvider.loginUser(this.chatId).then(function(n){l.sessionId=n})},l.prototype.fetchMessages=function(){var l=this;return this.chatProvider.getLatestMessages(this.sessionId,this.lastTime).then(function(n){return l.lastTime=n.chatnewlasttime||0,l.chatProvider.getMessagesUserData(n.messages,l.courseId).then(function(n){l.messages=l.messages.concat(n)})})},l.prototype.startPolling=function(){var l=this;this.polling||(this.polling=setInterval(function(){l.fetchMessagesInterval().catch(function(){})},k.a.POLL_INTERVAL))},l.prototype.stopPolling=function(){this.polling&&(this.logger.debug("Cancelling polling for messages"),clearInterval(this.polling))},l.prototype.fetchMessagesInterval=function(){var l=this;return this.logger.debug("Polling for messages"),!this.isOnline||this.pollingRunning?Promise.reject(null):(this.pollingRunning=!0,this.fetchMessages().catch(function(){return l.loginUser().then(function(){return l.fetchMessages()}).catch(function(n){return l.polling&&(clearInterval(l.polling),l.polling=void 0),l.domUtils.showErrorModalDefault(n,"addon.mod_chat.errorwhileretrievingmessages",!0),Promise.reject(null)})}).finally(function(){l.pollingRunning=!1}))},l.prototype.showDate=function(l,n){return!n||!R(1e3*l.timestamp).isSame(1e3*n.timestamp,"day")},l.prototype.sendMessage=function(l,n){var t=this;if(void 0===n&&(n=0),this.isOnline&&(0!==n||l.trim())){l=this.textUtils.replaceNewLines(l,"<br>");var e=this.domUtils.showModalLoading("core.sending",!0);this.chatProvider.sendMessage(this.sessionId,l,n).then(function(){t.fetchMessagesInterval().catch(function(){})}).catch(function(l){t.appProvider.closeKeyboard(),t.domUtils.showErrorModalDefault(l,"addon.mod_chat.errorwhilesendingmessage",!0)}).finally(function(){e.dismiss()})}},l.prototype.reconnect=function(){var l=this,n=this.domUtils.showModalLoading();return this.fetchMessagesInterval().then(function(){l.startPolling()}).catch(function(){}).finally(function(){n.dismiss()})},l.prototype.scrollToBottom=function(){var l=this;setTimeout(function(){l.viewDestroyed||l.content.scrollToBottom(0)})},l.prototype.resizeContent=function(){var l=this,n=this.content.getContentDimensions().scrollTop;this.content.resize(),setTimeout(function(){!l.viewDestroyed&&l.content&&l.content.contentHeight!=l.oldContentHeight&&(n||(n=l.content.getContentDimensions().scrollTop),n+=l.oldContentHeight-l.content.contentHeight,l.oldContentHeight=l.content.contentHeight,l.content.scrollTo(0,n,0))})},l.prototype.ngOnDestroy=function(){this.onlineObserver&&this.onlineObserver.unsubscribe(),this.stopPolling(),this.viewDestroyed=!0},O([Object(h._9)(m.f),U("design:type",m.f)],l.prototype,"content",void 0),l=O([Object(h.m)({selector:"page-addon-mod-chat-chat",templateUrl:"chat.html"}),U("design:paramtypes",[m.r,C.a,M.a,m.q,k.a,x.a,I.a,m.o,w.a,P.a])],l)}(),j=this&&this.__decorate||function(l,n,t,e){var u,o=arguments.length,a=o<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,t):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(l,n,t,e);else for(var i=l.length-1;i>=0;i--)(u=l[i])&&(a=(o<3?u(a):o>3?u(n,t,a):u(n,t))||a);return o>3&&a&&Object.defineProperty(n,t,a),a},D=function(){function l(){}return l=j([Object(h.I)({declarations:[V],imports:[b.a,v.a,y.a,m.l.forChild(V),p.b.forChild()]})],l)}(),$=t(1243),T=t(1244),z=t(1245),S=t(1246),E=t(1247),L=t(1248),F=t(1249),K=t(1250),H=t(1251),A=t(1254),B=t(1255),W=t(1256),q=t(43),N=t(37),G=t(3),J=t(38),Q=t(229),X=t(28),Y=t(15),Z=t(33),ll=t(19),nl=t(18),tl=t(29),el=t(32),ul=t(185),ol=t(166),al=t(16),il=t(13),sl=t(23),rl=t(39),cl=t(4),_l=t(22),dl=t(20),gl=t(24),fl=t(8),hl=t(1853),ml=t(1268),pl=t(316),bl=t(402),vl=t(34),yl=t(1252),xl=t(182),Cl=t(27),Il=t(1253),wl=t(315),Pl=t(227),kl=t(403),Ml=t(183),Rl=t(25),Ol=t(93),Ul=t(57),Vl=t(55),jl=t(635),Dl=t(1846),$l=t(54),Tl=t(206),zl=h._29({encapsulation:2,styles:[],data:{}}),Sl=h._27("page-addon-mod-chat-chat",V,function(l){return h._57(0,[(l()(),h._31(0,0,null,null,1,"page-addon-mod-chat-chat",[],null,null,null,f,zl)),h._30(1,180224,null,0,V,[$l.a,C.a,M.a,dl.a,k.a,x.a,I.a,Tl.a,w.a,P.a],null,null)],null,null)},{},{},[]),El=t(17),Ll=t(311),Fl=t(312),Kl=t(314),Hl=t(313),Al=t(401),Bl=t(615),Wl=t(228);t.d(n,"AddonModChatChatPageModuleNgFactory",function(){return ql});var ql=h._28(D,[],function(l){return h._40([h._41(512,h.o,h._21,[[8,[$.a,T.a,z.a,S.a,E.a,L.a,F.a,K.a,H.a,A.a,B.a,W.a,Sl]],[3,h.o],h.K]),h._41(4608,fl.m,fl.l,[h.G,[2,fl.v]]),h._41(4608,El.x,El.x,[]),h._41(4608,El.d,El.d,[]),h._41(4608,Ll.b,Ll.a,[]),h._41(4608,Fl.a,Fl.b,[]),h._41(4608,Kl.b,Kl.a,[]),h._41(4608,Hl.b,Hl.a,[]),h._41(4608,Y.a,Y.a,[Al.a,Ll.b,Fl.a,Kl.b,Hl.b,Y.b,Y.c]),h._41(512,fl.b,fl.b,[]),h._41(512,El.v,El.v,[]),h._41(512,El.i,El.i,[]),h._41(512,El.s,El.s,[]),h._41(512,Bl.a,Bl.a,[]),h._41(512,p.b,p.b,[]),h._41(512,v.a,v.a,[]),h._41(512,y.a,y.a,[]),h._41(512,b.a,b.a,[]),h._41(512,Bl.b,Bl.b,[]),h._41(512,D,D,[]),h._41(256,Y.c,void 0,[]),h._41(256,Y.b,void 0,[]),h._41(256,Wl.a,V,[])])})},1846:function(l,n,t){"use strict";function e(l){return u._57(2,[(l()(),u._31(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u._30(1,278528,null,0,o.i,[u.E,u.F,u.t,u.W],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._43(null,0),u._43(null,1),u._43(null,2),(l()(),u._31(5,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u._30(6,278528,null,0,o.i,[u.E,u.F,u.t,u.W],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._43(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,6,0,"toolbar-content","toolbar-content-"+t._mode)},null)}t.d(n,"a",function(){return s}),n.b=e;var u=t(0),o=t(8),a=t(227),i=t(3),s=u._29({encapsulation:2,styles:[],data:{}});u._27("ion-toolbar",a.a,function(l){return u._57(0,[(l()(),u._31(0,0,null,null,1,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,e,s)),u._30(1,49152,null,0,a.a,[i.a,u.t,u.V],null,null)],null,function(l,n){l(n,0,0,u._44(n,1)._sbPadding)})},{color:"color",mode:"mode"},{},["[menuToggle],ion-buttons[left]","ion-buttons[start]","ion-buttons[end],ion-buttons[right]","*"])},1853:function(l,n,t){"use strict";function e(l){return u._57(0,[(l()(),u._31(0,0,null,null,27,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0,o=l.component;if("submit"===n){e=!1!==u._44(l,2).onSubmit(t)&&e}if("reset"===n){e=!1!==u._44(l,2).onReset()&&e}if("ngSubmit"===n){e=!1!==o.submitForm(t)&&e}return e},null,null)),u._30(1,16384,null,0,o.w,[],null,null),u._30(2,4210688,null,0,o.p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),u._50(2048,null,o.b,null,[o.p]),u._30(4,16384,null,0,o.o,[o.b],null,null),(l()(),u._55(-1,null,["\n    "])),(l()(),u._31(6,0,null,null,7,"textarea",[["class","core-send-message-input"],["core-auto-rows",""],["name","message"],["rows","1"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onResize"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,t){var e=!0,o=l.component;if("input"===n){e=!1!==u._44(l,7)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==u._44(l,7).onTouched()&&e}if("compositionstart"===n){e=!1!==u._44(l,7)._compositionStart()&&e}if("compositionend"===n){e=!1!==u._44(l,7)._compositionEnd(t.target.value)&&e}if("input"===n){e=!1!==u._44(l,13).onInput()&&e}if("change"===n){e=!1!==u._44(l,13).onChange()&&e}if("ngModelChange"===n){e=!1!==(o.message=t)&&e}if("onResize"===n){e=!1!==o.textareaResized()&&e}return e},null,null)),u._30(7,16384,null,0,o.c,[u.W,u.t,[2,o.a]],null,null),u._50(1024,null,o.l,function(l){return[l]},[o.c]),u._30(9,671744,null,0,o.q,[[2,o.b],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u._50(2048,null,o.m,null,[o.q]),u._30(11,16384,null,0,o.n,[o.m],null,null),u._30(12,81920,null,0,a.a,[u.t,i.a,s.a,[2,r.a]],{coreAutoFocus:[0,"coreAutoFocus"]},null),u._30(13,16384,null,0,c.a,[u.t],null,{onResize:"onResize"}),(l()(),u._55(-1,null,["\n    "])),(l()(),u._31(15,0,null,null,11,"ion-buttons",[["end",""]],null,null,null,null,null)),u._30(16,16384,null,1,_.a,[d.a,u.t,u.V,[2,g.a],[2,f.a]],null,null),u._52(603979776,1,{_buttons:1}),(l()(),u._55(-1,null,["\n        "])),(l()(),u._31(19,0,null,null,6,"button",[["clear","true"],["icon-only",""],["ion-button",""],["type","submit"]],[[8,"disabled",0],[1,"aria-label",0]],null,null,h.b,h.a)),u._30(20,1097728,[[1,4]],0,m.a,[[8,""],d.a,u.t,u.V],{clear:[0,"clear"]},null),u._47(131072,p.a,[b.a,u.j]),(l()(),u._55(-1,0,["\n            "])),(l()(),u._31(23,0,null,0,1,"ion-icon",[["color","dark"],["name","send"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u._30(24,147456,null,0,v.a,[d.a,u.t,u.V],{color:[0,"color"],name:[1,"name"]},null),(l()(),u._55(-1,0,["\n        "])),(l()(),u._55(-1,null,["\n    "])),(l()(),u._55(-1,null,["\n"])),(l()(),u._55(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,9,0,"message",t.message);l(n,12,0,t.showKeyboard);l(n,20,0,"true");l(n,24,0,"dark","send")},function(l,n){var t=n.component;l(n,0,0,u._44(n,4).ngClassUntouched,u._44(n,4).ngClassTouched,u._44(n,4).ngClassPristine,u._44(n,4).ngClassDirty,u._44(n,4).ngClassValid,u._44(n,4).ngClassInvalid,u._44(n,4).ngClassPending);l(n,6,0,t.placeholder,u._44(n,11).ngClassUntouched,u._44(n,11).ngClassTouched,u._44(n,11).ngClassPristine,u._44(n,11).ngClassDirty,u._44(n,11).ngClassValid,u._44(n,11).ngClassInvalid,u._44(n,11).ngClassPending);l(n,19,0,!t.message,u._56(n,19,1,u._44(n,21).transform("core.send")));l(n,23,0,u._44(n,24)._hidden)})}t.d(n,"a",function(){return C}),n.b=e;var u=t(0),o=t(17),a=t(319),i=t(6),s=t(4),r=t(20),c=t(1284),_=t(403),d=t(3),g=t(227),f=t(182),h=t(43),m=t(37),p=t(28),b=t(15),v=t(38),y=t(1268),x=t(10),C=u._29({encapsulation:2,styles:[],data:{}});u._27("core-send-message-form",y.a,function(l){return u._57(0,[(l()(),u._31(0,0,null,null,1,"core-send-message-form",[],null,null,null,e,C)),u._30(1,114688,null,0,y.a,[s.a,x.a],null,null)],function(l,n){l(n,1,0)},null)},{message:"message",placeholder:"placeholder",showKeyboard:"showKeyboard"},{onSubmit:"onSubmit",onResize:"onResize"},[])}});