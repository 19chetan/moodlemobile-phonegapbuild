{"version":3,"sources":["../../src/core/course/pages/section/section.module.ts","../../src/core/course/components/components.module.ts","../../src/core/course/components/format/format.ts","../../src/core/course/components/module/module.ts","../../src/core/course/components/module-completion/module-completion.ts","../../src/core/course/components/module-description/module-description.ts","../../src/core/course/pages/section/section.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;AAEQ;AACO;AACM;AACJ;AAC8B;AACA;AACA;AAchF;IAAA;IAA0C,CAAC;IAA9B,2BAA2B;QAZvC,uEAAQ,CAAC;YACN,YAAY,EAAE;gBACV,uEAAqB;aACxB;YACD,OAAO,EAAE;gBACL,2FAAoB;gBACpB,2FAAoB;gBACpB,iGAA0B;gBAC1B,sEAAe,CAAC,QAAQ,CAAC,uEAAqB,CAAC;gBAC/C,4EAAe,CAAC,QAAQ,EAAE;aAC7B;SACJ,CAAC;OACW,2BAA2B,CAAG;IAAD,kCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;AClCxC;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;AAEQ;AACM;AACH;AACU;AACuB;AACA;AACjB;AACA;AACgC;AACG;AACA;AA8B/F;IAAA;IAAyC,CAAC;IAA7B,0BAA0B;QA5BtC,uEAAQ,CAAC;YACN,YAAY,EAAE;gBACV,iFAAyB;gBACzB,iFAAyB;gBACzB,iHAAmC;gBACnC,oHAAoC;gBACpC,qHAAoC;aACvC;YACD,OAAO,EAAE;gBACL,qEAAY;gBACZ,kEAAW;gBACX,4EAAe,CAAC,QAAQ,EAAE;gBAC1B,2FAAoB;gBACpB,2FAAoB;aACvB;YACD,SAAS,EAAE,EACV;YACD,OAAO,EAAE;gBACL,iFAAyB;gBACzB,iFAAyB;gBACzB,iHAAmC;gBACnC,oHAAoC;gBACpC,qHAAoC;aACvC;YACD,eAAe,EAAE;gBACb,qHAAoC;aACvC;SACJ,CAAC;OACW,0BAA0B,CAAG;IAAD,iCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;ACtDvC;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;;;;AAEkF;AAC5D;AACW;AACF;AACO;AACD;AACM;AACS;AACiB;AAEtG;;;;;;;;;GASG;AAKH;IA0BI,mCAAoB,UAAoC,EAAE,SAA2B,EACrE,YAAsC,EAAU,QAA8B,EACtF,cAAkC,EAAU,aAAgC,EAC5E,gBAAkD;QAH1D,iBA2CC;QA3CmB,eAAU,GAAV,UAAU,CAA0B;QACxC,iBAAY,GAAZ,YAAY,CAA0B;QAAU,aAAQ,GAAR,QAAQ,CAAsB;QAC1C,kBAAa,GAAb,aAAa,CAAmB;QAbpF,kCAAkC;QAClC,SAAI,GAAQ,EAAE,CAAC;QAIf,kBAAa,GAAW,oFAAkB,CAAC,eAAe,CAAC;QAC3D,kBAAa,GAAQ,EAAE,CAAC;QAUpB,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;QACrE,IAAI,CAAC,iBAAiB,GAAG,IAAI,mEAAY,EAAE,CAAC;QAE5C,qCAAqC;QACrC,IAAI,CAAC,qBAAqB,GAAG,cAAc,CAAC,EAAE,CAAC,6EAAkB,CAAC,sBAAsB,EAAE,UAAC,IAAI;YAC3F,EAAE,CAAC,CAAC,KAAI,CAAC,eAAe,IAAI,KAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,KAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS;gBAC1F,IAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;gBACtC,qDAAqD;gBACrD,qGAAqG;gBACrG,IAAM,YAAU,GAAG,KAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;gBAClF,EAAE,CAAC,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,YAAU,CAAC,CAAC,CAAC,CAAC;oBACjD,MAAM,CAAC;gBACX,CAAC;gBAED,4BAA4B;gBAC5B,IAAI,SAAO,CAAC;gBACZ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC5C,IAAM,CAAC,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBAC1B,SAAO,GAAG,CAAC,CAAC;wBACZ,KAAK,CAAC;oBACV,CAAC;gBACL,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,SAAO,CAAC,CAAC,CAAC;oBACX,2BAA2B;oBAC3B,MAAM,CAAC;gBACX,CAAC;gBAED,0BAA0B;gBAC1B,KAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,SAAO,EAAE,KAAI,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC;oBAC1E,EAAE,CAAC,CAAC,SAAO,CAAC,aAAa,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,YAAU,CAAC,CAAC,CAAC,CAAC;wBAC3E,mEAAmE;wBACnE,KAAI,CAAC,QAAQ,CAAC,SAAO,EAAE,KAAK,CAAC,CAAC;oBAClC,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED;;OAEG;IACH,4CAAQ,GAAR;QACI,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtF,CAAC;IAED;;OAEG;IACH,+CAAW,GAAX,UAAY,OAAyC;QAArD,iBAkDC;QAjDG,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YACjB,iDAAiD;YACjD,IAAI,CAAC,aAAa,EAAE,CAAC;QACzB,CAAC;QAED,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACxB,iEAAiE;gBACjE,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;oBACrD,0EAA0E;oBAC1E,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC5C,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACjC,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,IAAI,IAAI,CAAC,gBAAgB,IAAI,OAAO,CAAC,OAAO,IAAI,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;4BACtF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;4BACnB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;4BAC7B,KAAK,CAAC;wBACV,CAAC;oBACL,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,6CAA6C;oBAC7C,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,OAAO;wBACvE,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,wFAAwF;gBACxF,IAAI,UAAU,UAAC;gBACf,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC5C,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACjC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;wBACtD,UAAU,GAAG,OAAO,CAAC;wBACrB,KAAK,CAAC;oBACV,CAAC;gBACL,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;oBACd,iDAAiD;oBACjD,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC/E,CAAC;gBACD,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YACpC,CAAC;QACL,CAAC;QAED,EAAE,CAAC,CAAC,OAAO,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QACxC,CAAC;IACL,CAAC;IAED;;OAEG;IACO,gDAAY,GAAtB;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,CAAC;QAC3D,IAAI,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;IACrD,CAAC;IAED;;OAEG;IACO,iDAAa,GAAvB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACd,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACvF,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,yBAAyB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzF,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC7F,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,yBAAyB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzF,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrF,CAAC;QACL,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,kDAAc,GAAd,UAAe,UAAe;QAC1B,IAAM,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC;QAC3C,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC;IAC7C,CAAC;IAED;;;;;;OAMG;IACH,mDAAe,GAAf,UAAgB,EAAO,EAAE,EAAO;QAC5B,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC;IAClD,CAAC;IAED;;;;OAIG;IACO,2DAAuB,GAAjC,UAAkC,OAAiB;QAC/C,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC;YACpF,oCAAoC;QACxC,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;;OAKG;IACH,4CAAQ,GAAR,UAAS,CAAQ,EAAE,OAAY;QAA/B,iBAeC;QAdG,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;YACtF,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACxC,CAAC,EAAE,UAAC,KAAK;YACL,6DAA6D;YAC7D,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACR,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YACxC,CAAC;QACL,CAAC,CAAC,CAAC,OAAO,CAAC;YACP,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC;QAClC,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;;;OAMG;IACO,mDAAe,GAAzB,UAA0B,OAAY,EAAE,MAAgB;QAAxD,iBASC;QARG,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YAClF,0DAA0D;YAC1D,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACV,MAAM,CAAC;YACX,CAAC;YAED,KAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,qCAAqC,EAAE,IAAI,CAAC,CAAC;QAC5F,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,+CAAW,GAAX;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAC;QACrC,CAAC;IACL,CAAC;IAvPQ;QAAR,oEAAK,EAAE;;6DAAa;IACZ;QAAR,oEAAK,EAAE;;+DAAiB;IAChB;QAAR,oEAAK,EAAE;;sEAA2B;IAC1B;QAAR,oEAAK,EAAE;;uEAA2B;IAC1B;QAAR,oEAAK,EAAE;;2EAA+B;IAC7B;QAAT,qEAAM,EAAE;kCAAqB,mEAAY;wEAAO;IANxC,yBAAyB;QAJrC,wEAAS,CAAC;YACP,QAAQ,EAAE,oBAAoB;WACJ;SAC7B,CAAC;0LA2BkC,CAAqD;YACvD,0JAA4C,CAAoB;YACtE,oHAA2C,EAAiB;YAC1D,sBAAgC;OA7BjD,yBAAyB,CAyPrC;IAAD,CAAC;AAAA;SAzPY,yB;;;;;;;;;;ACtCb;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;;;;AAE8C;AACjC;AAG9C;;;;;;GAMG;AAKH;IAKI,mCAAoB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;QACtC,IAAI,CAAC,iBAAiB,GAAG,IAAI,mEAAY,EAAE,CAAC;IAChD,CAAC;IAED;;OAEG;IACH,4CAAQ,GAAR;QACI,uEAAuE;QACvE,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC;QACjC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,iDAAa,GAAb,UAAc,KAAY;QACtB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;YACtE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACpF,CAAC;IACL,CAAC;IAED;;;;;OAKG;IACH,iDAAa,GAAb,UAAc,KAAY,EAAE,MAAqC;QAC7D,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC1B,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IAvCQ;QAAR,oEAAK,EAAE;;6DAAa;IACZ;QAAR,oEAAK,EAAE;;+DAAkB;IAChB;QAAT,qEAAM,EAAE;kCAAqB,mEAAY;wEAAO;IAHxC,yBAAyB;QAJrC,wEAAS,CAAC;YACP,QAAQ,EAAE,oBAAoB;WACJ;SAC7B,CAAC;kCAM4C;OALjC,yBAAyB,CAyCrC;IAAD,CAAC;AAAA;SAzCY,yB;;;;;;;;;;;;;;AC7Bb;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;;;;AAE+D;AACzC;AACS;AACO;AACE;AACT;AAEhE;;;;;;;;GAQG;AAKH;IAQI,6CAAoB,SAAgC,EAAU,QAA8B,EAC5E,SAA2B,EAAU,aAAgC,EAAU,YAA8B;QADzG,cAAS,GAAT,SAAS,CAAuB;QAAU,aAAQ,GAAR,QAAQ,CAAsB;QAC5E,cAAS,GAAT,SAAS,CAAkB;QAAU,kBAAa,GAAb,aAAa,CAAmB;QAAU,iBAAY,GAAZ,YAAY,CAAkB;QACzH,IAAI,CAAC,iBAAiB,GAAG,IAAI,mEAAY,EAAE,CAAC;IAChD,CAAC;IAED;;OAEG;IACH,yDAAW,GAAX,UAAY,OAAyC;QACjD,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,+DAAiB,GAAjB,UAAkB,CAAQ;QAA1B,iBA4BC;QA3BG,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAClB,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC/E,MAAM,CAAC;YACX,CAAC;YAED,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YAEpB,IAAM,OAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,EAC1C,MAAM,GAAG;gBACL,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI;gBAC1B,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACjD,EACD,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;YAEtD,WAAW,CAAC,KAAK,CAAC,4DAA4D,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;gBAClG,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;oBACnB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAChC,CAAC;gBAED,KAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;YAClC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;gBACX,KAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,4BAA4B,EAAE,IAAI,CAAC,CAAC;YACnF,CAAC,CAAC,CAAC,OAAO,CAAC;gBACP,OAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAED;;OAEG;IACO,wDAAU,GAApB;QAAA,iBAuDC;QAtDG,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC;QACzC,IAAI,OAAO,EACP,KAAK,CAAC;QAEV,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YAChE,KAAK,GAAG,qBAAqB,CAAC;YAC9B,OAAO,GAAG,8BAA8B,CAAC;QAC7C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YACvE,KAAK,GAAG,qBAAqB,CAAC;YAC9B,OAAO,GAAG,8BAA8B,CAAC;QAC7C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YACvE,KAAK,GAAG,mBAAmB,CAAC;YAC5B,OAAO,GAAG,4BAA4B,CAAC;QAC3C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YACvE,KAAK,GAAG,mBAAmB,CAAC;YAC5B,OAAO,GAAG,4BAA4B,CAAC;QAC3C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YACvE,KAAK,GAAG,sBAAsB,CAAC;YAC/B,OAAO,GAAG,+BAA+B,CAAC;QAC9C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YACvE,KAAK,GAAG,sBAAsB,CAAC;YAC/B,OAAO,GAAG,+BAA+B,CAAC;QAC9C,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;gBACjC,KAAK,IAAI,WAAW,CAAC;YACzB,CAAC;YACD,IAAI,CAAC,eAAe,GAAG,wBAAwB,GAAG,KAAK,GAAG,MAAM,CAAC;QACrE,CAAC;QAED,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACb,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,gBAAgB;gBACxE,IAAI,OAAO,CAAC;gBAEZ,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;oBACjC,OAAO,IAAI,WAAW,CAAC;oBAEvB,OAAO,GAAG,KAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAI,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CACnG,UAAC,OAAO;wBACJ,MAAM,CAAC;4BACH,YAAY,EAAE,OAAO,CAAC,QAAQ;4BAC9B,OAAO,EAAE,gBAAgB;yBAC5B,CAAC;oBACN,CAAC,CAAC,CAAC;gBACX,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;gBAChD,CAAC;gBAED,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,eAAe;oBAChC,KAAI,CAAC,qBAAqB,GAAG,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,eAAe,EAAE,CAAC,CAAC;gBAC1F,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAlHQ;QAAR,oEAAK,EAAE;;2EAAiB;IAChB;QAAR,oEAAK,EAAE;;2EAAqB;IACnB;QAAT,qEAAM,EAAE;kCAAqB,mEAAY;kFAAO;IAHxC,mCAAmC;QAJ/C,wEAAS,CAAC;YACP,QAAQ,EAAE,+BAA+B;WACJ;SACxC,CAAC;sKASiC,gFAAyC,EAAoB;YACjE,gBAAgB,EAAyB,cAAyD;OATpH,mCAAmC,CAoH/C;IAAD,CAAC;AAAA;SApHY,mCAAmC,C;;;;;;;;;AClChD;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;;;;AAEgB;AAEjD;;;;;;;;;;;;;;;GAeG;AAKH;IAOI;QACI,iBAAiB;IACrB,CAAC;IARQ;QAAR,oEAAK,EAAE;;6EAAqB;IACpB;QAAR,oEAAK,EAAE;;sEAAe;IACd;QAAR,oEAAK,EAAE;;2EAAoB;IACnB;QAAR,oEAAK,EAAE;;6EAA+B;IAC9B;QAAR,oEAAK,EAAE;;0EAA6B;IAL5B,oCAAoC;QAJhD,wEAAS,CAAC;YACP,QAAQ,EAAE,gCAAgC;WACJ;SACzC,CAAC;;OACW,oCAAoC,CAUhD;IAAD,CAAC;AAAA;SAVY,oCAAoC,C;;;;;;;;;;;;;;;;;;;;;ACpCjD;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;;;;AAE+B;AACE;AACX;AACW;AACF;AACO;AACE;AACb;AACM;AACS;AACiB;AACoB;AACvC;AAEzE;;GAEG;AAMH;IAqBI,+BAAoB,SAAoB,EAAU,cAAkC,EAAU,QAA8B,EAC5G,oBAA8C,EAAU,qBAAgD,EACxG,SAA2B,EAAU,YAAsC,EAAE,cAAkC,EAC/G,SAAgC,EAAU,eAAoC,EACtF,aAAgC,EAAU,OAAsB,EACxD,gBAAkD;QALlE,iBA0BC;QA1BmB,cAAS,GAAT,SAAS,CAAW;QAAU,mBAAc,GAAd,cAAc,CAAoB;QAAU,aAAQ,GAAR,QAAQ,CAAsB;QAC5G,yBAAoB,GAApB,oBAAoB,CAA0B;QAAU,0BAAqB,GAArB,qBAAqB,CAA2B;QACxG,cAAS,GAAT,SAAS,CAAkB;QAAU,iBAAY,GAAZ,YAAY,CAA0B;QAC3E,cAAS,GAAT,SAAS,CAAuB;QAAU,oBAAe,GAAf,eAAe,CAAqB;QAC5C,YAAO,GAAP,OAAO,CAAe;QACxD,qBAAgB,GAAhB,gBAAgB,CAAkC;QAjBlE,gBAAW,GAAQ,EAAE,CAAC,CAAC,2CAA2C;QAGlE,wBAAmB,GAAG,gBAAgB,CAAC,CAAC,uBAAuB;QAC/D,uBAAkB,GAAG;YACjB,kBAAkB,EAAE,SAAS;SAChC,CAAC;QAIQ,gBAAW,GAAG,KAAK,CAAC;QAQ1B,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC5C,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;QAE3C,yDAAyD;QACzD,IAAI,CAAC,KAAK,GAAG,oBAAoB,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE9D,IAAI,CAAC,kBAAkB,GAAG,cAAc,CAAC,EAAE,CAAC,6EAAkB,CAAC,wBAAwB,EAAE,UAAC,IAAI;YAC1F,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,4BAA4B,EAAE,CAAC;YACxC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,uCAAuC;QACvC,IAAI,CAAC,oBAAoB,GAAG,cAAc,CAAC,EAAE,CAAC,6EAAkB,CAAC,qBAAqB,EAAE,UAAC,IAAI;YACzF,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;gBAClC,KAAI,CAAC,kBAAkB,CAAC,kBAAkB,GAAG,KAAI,CAAC,YAAY,CAAC,6BAA6B,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9G,CAAC;QACL,CAAC,EAAE,aAAa,CAAC,gBAAgB,EAAE,CAAC,CAAC;IACzC,CAAC;IAED;;OAEG;IACH,8CAAc,GAAd;QAAA,iBA+BC;QA7BG,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACvF,CAAC;QAED,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC;YACpB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAEvB,wCAAwC;YACxC,KAAI,CAAC,2BAA2B,EAAE,CAAC,IAAI,CAAC;gBACpC,EAAE,CAAC,CAAC,KAAI,CAAC,kBAAkB,CAAC,kBAAkB,IAAI,SAAS,CAAC,CAAC,CAAC;oBAC1D,wDAAwD;oBACxD,IAAM,OAAO,GAAG,KAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;oBAC3E,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACV,0DAA0D;wBAC1D,OAAO,CAAC,KAAK,CAAC,UAAC,KAAK;4BAChB,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gCACpB,KAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,oCAAoC,EAAE,IAAI,CAAC,CAAC;4BAC3F,CAAC;wBACL,CAAC,CAAC,CAAC;oBACP,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,mGAAmG;wBACnG,KAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;4BACpE,KAAI,CAAC,kBAAkB,CAAC,kBAAkB,GAAG,KAAI,CAAC,YAAY,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC;wBACzG,CAAC,CAAC,CAAC;oBACP,CAAC;gBACL,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACO,wCAAQ,GAAlB,UAAmB,OAAiB;QAApC,iBA4DC;QA3DG,oEAAoE;QACpE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;YAC5D,mDAAmD;QACvD,CAAC,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;YACX,IAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,IAAI,OAAO,CAAC;YAEZ,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACT,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,CAAC;YAED,6BAA6B;YAC7B,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,gBAAgB,KAAK,KAAK,CAAC,CAAC,CAAC;gBACzC,0BAA0B;gBAC1B,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAClC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,OAAO,GAAG,KAAI,CAAC,cAAc,CAAC,6BAA6B,CAAC,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;oBAC9E,mCAAmC;oBACnC,MAAM,CAAC,EAAE,CAAC;gBACd,CAAC,CAAC,CAAC;YACP,CAAC;YAED,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,gBAAgB;gBACxC,wBAAwB;gBACxB,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAI,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;oBACrF,KAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,QAAQ,EAAE,KAAI,CAAC,MAAM,CAAC,EAAE,EAAE,gBAAgB,CAAC,CAAC;oBAEvF,+DAA+D;oBAC/D,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAC,OAAO;wBACjC,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;4BACjE,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;wBACjC,CAAC,CAAC,CAAC;wBACH,OAAO,CAAC,UAAU,GAAG,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;wBAElE,MAAM,CAAC,OAAO,CAAC;oBACnB,CAAC,CAAC,CAAC;oBAEH,EAAE,CAAC,CAAC,KAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;wBAC5D,2CAA2C;wBAC3C,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;4BAClB,IAAI,EAAE,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,yBAAyB,CAAC;4BACvD,EAAE,EAAE,6EAAkB,CAAC,eAAe;yBACzC,CAAC,CAAC;oBACP,CAAC;oBAED,iDAAiD;oBACjD,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,KAAI,CAAC,MAAM,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC;gBACtF,CAAC,CAAC,CAAC,CAAC;YACR,CAAC,CAAC,CAAC,CAAC;YAEJ,4BAA4B;YAC5B,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,KAAI,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;gBACrG,KAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;YACnC,CAAC,CAAC,CAAC,CAAC;YAEJ,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;gBACrC,KAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,wCAAwC,EAAE,IAAI,CAAC,CAAC;YAC/F,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;OAIG;IACH,yCAAS,GAAT,UAAU,SAAc;QAAxB,iBAMC;QALG,IAAI,CAAC,cAAc,EAAE,CAAC,OAAO,CAAC;YAC1B,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC;gBACxB,SAAS,CAAC,QAAQ,EAAE,CAAC;YACzB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,kDAAkB,GAAlB;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,EAAE,CAAC,OAAO,CAAC;YAC1B,KAAI,CAAC,4BAA4B,EAAE,CAAC;QACxC,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACO,8CAAc,GAAxB;QACI,IAAM,QAAQ,GAAG,EAAE,CAAC;QAEpB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QACtE,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,qBAAqB,EAAE,CAAC,CAAC;QAC5D,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEpF,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAChB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QACjF,CAAC;QAED,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IAED;;OAEG;IACO,4DAA4B,GAAtC;QAAA,iBAaC;QAZG,gDAAgD;QAChD,IAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,EACjD,SAAS,GAAG,aAAa,CAAC,SAAS,IAAI,CAAC,EACxC,UAAU,GAAG,aAAa,CAAC,UAAU,IAAI,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,qCAAqC;QAEjE,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC;YACpB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;OAIG;IACO,2DAA2B,GAArC;QAAA,iBAIC;QAHG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACnE,KAAI,CAAC,kBAAkB,CAAC,kBAAkB,GAAG,IAAI,CAAC;QACtD,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,8CAAc,GAAd;QAAA,iBAcC;QAbG,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC;aAC/G,IAAI,CAAC,UAAC,UAAU;YACb,EAAE,CAAC,CAAC,UAAU,IAAI,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACrC,0BAA0B;gBAC1B,KAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,KAAI,CAAC,QAAQ,EAAE,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;oBAC3E,oCAAoC;gBACxC,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YACX,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACpB,KAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,oCAAoC,EAAE,IAAI,CAAC,CAAC;YAC3F,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAED;;OAEG;IACH,8CAAc,GAAd;QACI,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;QAC7C,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,gBAAgB,CAAC;IAC5F,CAAC;IAED;;OAEG;IACH,2CAAW,GAAX;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC;QAClC,CAAC;IACL,CAAC;IA5PmB;QAAnB,yEAAS,CAAC,8DAAO,CAAC;kCAAU,8DAAO;0DAAC;IAD5B,qBAAqB;QAJjC,wEAAS,CAAC;YACP,QAAQ,EAAE,0BAA0B;WACT;SAC9B,CAAC;yMAsBoE,CAA0D;YACtF,kKAAyD,+EAAyB;YAC7F,oFAAwC,0FAAwB,CAAoC;YACpG,iJAAgD,CAAmB;YACvE,8GAAiD;YACtC,kBAAgC;OA1BzD,qBAAqB,CA8PjC;IAAD,CAAC;AAAA;SA9PY,qBAAqB,K","file":"3.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreCourseSectionPage } from './section';\nimport { CoreComponentsModule } from '../../../../components/components.module';\nimport { CoreDirectivesModule } from '../../../../directives/directives.module';\nimport { CoreCourseComponentsModule } from '../../components/components.module';\n\n@NgModule({\n    declarations: [\n        CoreCourseSectionPage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CoreCourseComponentsModule,\n        IonicPageModule.forChild(CoreCourseSectionPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class CoreCourseSectionPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/course/pages/section/section.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreComponentsModule } from '../../../components/components.module';\nimport { CoreDirectivesModule } from '../../../directives/directives.module';\nimport { CoreCourseFormatComponent } from './format/format';\nimport { CoreCourseModuleComponent } from './module/module';\nimport { CoreCourseModuleCompletionComponent } from './module-completion/module-completion';\nimport { CoreCourseModuleDescriptionComponent } from './module-description/module-description';\nimport { CoreCourseUnsupportedModuleComponent } from './unsupported-module/unsupported-module';\n\n@NgModule({\n    declarations: [\n        CoreCourseFormatComponent,\n        CoreCourseModuleComponent,\n        CoreCourseModuleCompletionComponent,\n        CoreCourseModuleDescriptionComponent,\n        CoreCourseUnsupportedModuleComponent\n    ],\n    imports: [\n        CommonModule,\n        IonicModule,\n        TranslateModule.forChild(),\n        CoreComponentsModule,\n        CoreDirectivesModule\n    ],\n    providers: [\n    ],\n    exports: [\n        CoreCourseFormatComponent,\n        CoreCourseModuleComponent,\n        CoreCourseModuleCompletionComponent,\n        CoreCourseModuleDescriptionComponent,\n        CoreCourseUnsupportedModuleComponent\n    ],\n    entryComponents: [\n        CoreCourseUnsupportedModuleComponent\n    ]\n})\nexport class CoreCourseComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/course/components/components.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit, OnChanges, OnDestroy, SimpleChange, Output, EventEmitter } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CoreEventsProvider } from '../../../../providers/events';\nimport { CoreSitesProvider } from '../../../../providers/sites';\nimport { CoreDomUtilsProvider } from '../../../../providers/utils/dom';\nimport { CoreCourseProvider } from '../../../course/providers/course';\nimport { CoreCourseHelperProvider } from '../../../course/providers/helper';\nimport { CoreCourseFormatDelegate } from '../../../course/providers/format-delegate';\nimport { CoreCourseModulePrefetchDelegate } from '../../../course/providers/module-prefetch-delegate';\n\n/**\n * Component to display course contents using a certain format. If the format isn't found, use default one.\n *\n * The inputs of this component will be shared with the course format components. Please use CoreCourseFormatDelegate\n * to register your handler for course formats.\n *\n * Example usage:\n *\n * <core-course-format [course]=\"course\" [sections]=\"sections\" (completionChanged)=\"onCompletionChange()\"></core-course-format>\n */\n@Component({\n    selector: 'core-course-format',\n    templateUrl: 'format.html'\n})\nexport class CoreCourseFormatComponent implements OnInit, OnChanges, OnDestroy {\n    @Input() course: any; // The course to render.\n    @Input() sections: any[]; // List of course sections.\n    @Input() downloadEnabled?: boolean; // Whether the download of sections and modules is enabled.\n    @Input() initialSectionId?: number; // The section to load first (by ID).\n    @Input() initialSectionNumber?: number; // The section to load first (by number).\n    @Output() completionChanged?: EventEmitter<void>; // Will emit an event when any module completion changes.\n\n    // All the possible component classes.\n    courseFormatComponent: any;\n    courseSummaryComponent: any;\n    sectionSelectorComponent: any;\n    singleSectionComponent: any;\n    allSectionsComponent: any;\n\n    // Data to pass to the components.\n    data: any = {};\n\n    displaySectionSelector: boolean;\n    selectedSection: any;\n    allSectionsId: number = CoreCourseProvider.ALL_SECTIONS_ID;\n    selectOptions: any = {};\n    loaded: boolean;\n\n    protected sectionStatusObserver;\n\n    constructor(private cfDelegate: CoreCourseFormatDelegate, translate: TranslateService,\n            private courseHelper: CoreCourseHelperProvider, private domUtils: CoreDomUtilsProvider,\n            eventsProvider: CoreEventsProvider, private sitesProvider: CoreSitesProvider,\n            prefetchDelegate: CoreCourseModulePrefetchDelegate) {\n\n        this.selectOptions.title = translate.instant('core.course.sections');\n        this.completionChanged = new EventEmitter();\n\n        // Listen for section status changes.\n        this.sectionStatusObserver = eventsProvider.on(CoreEventsProvider.SECTION_STATUS_CHANGED, (data) => {\n            if (this.downloadEnabled && this.sections && this.sections.length && this.course && data.sectionId &&\n                    data.courseId == this.course.id) {\n                // Check if the affected section is being downloaded.\n                // If so, we don't update section status because it'll already be updated when the download finishes.\n                const downloadId = this.courseHelper.getSectionDownloadId({ id: data.sectionId });\n                if (prefetchDelegate.isBeingDownloaded(downloadId)) {\n                    return;\n                }\n\n                // Get the affected section.\n                let section;\n                for (let i = 0; i < this.sections.length; i++) {\n                    const s = this.sections[i];\n                    if (s.id === data.sectionId) {\n                        section = s;\n                        break;\n                    }\n                }\n\n                if (!section) {\n                    // Section not found, stop.\n                    return;\n                }\n\n                // Recalculate the status.\n                this.courseHelper.calculateSectionStatus(section, this.course.id, false).then(() => {\n                    if (section.isDownloading && !prefetchDelegate.isBeingDownloaded(downloadId)) {\n                        // All the modules are now downloading, set a download all promise.\n                        this.prefetch(section, false);\n                    }\n                });\n            }\n        }, this.sitesProvider.getCurrentSiteId());\n    }\n\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {\n        this.displaySectionSelector = this.cfDelegate.displaySectionSelector(this.course);\n    }\n\n    /**\n     * Detect changes on input properties.\n     */\n    ngOnChanges(changes: { [name: string]: SimpleChange }): void {\n        this.setInputData();\n\n        if (changes.course) {\n            // Course has changed, try to get the components.\n            this.getComponents();\n        }\n\n        if (changes.sections && this.sections) {\n            if (!this.selectedSection) {\n                // There is no selected section yet, calculate which one to load.\n                if (this.initialSectionId || this.initialSectionNumber) {\n                    // We have an input indicating the section ID to load. Search the section.\n                    for (let i = 0; i < this.sections.length; i++) {\n                        const section = this.sections[i];\n                        if (section.id == this.initialSectionId || section.section == this.initialSectionNumber) {\n                            this.loaded = true;\n                            this.sectionChanged(section);\n                            break;\n                        }\n                    }\n                } else {\n                    // No section specified, get current section.\n                    this.cfDelegate.getCurrentSection(this.course, this.sections).then((section) => {\n                        this.loaded = true;\n                        this.sectionChanged(section);\n                    });\n                }\n            } else {\n                // We have a selected section, but the list has changed. Search the section in the list.\n                let newSection;\n                for (let i = 0; i < this.sections.length; i++) {\n                    const section = this.sections[i];\n                    if (this.compareSections(section, this.selectedSection)) {\n                        newSection = section;\n                        break;\n                    }\n                }\n\n                if (!newSection) {\n                    // Section not found, calculate which one to use.\n                    newSection = this.cfDelegate.getCurrentSection(this.course, this.sections);\n                }\n                this.sectionChanged(newSection);\n            }\n        }\n\n        if (changes.downloadEnabled && this.downloadEnabled) {\n            this.calculateSectionsStatus(false);\n        }\n    }\n\n    /**\n     * Set the input data for components.\n     */\n    protected setInputData(): void {\n        this.data.course = this.course;\n        this.data.sections = this.sections;\n        this.data.initialSectionId = this.initialSectionId;\n        this.data.initialSectionNumber = this.initialSectionNumber;\n        this.data.downloadEnabled = this.downloadEnabled;\n    }\n\n    /**\n     * Get the components classes.\n     */\n    protected getComponents(): void {\n        if (this.course) {\n            if (!this.courseFormatComponent) {\n                this.courseFormatComponent = this.cfDelegate.getCourseFormatComponent(this.course);\n            }\n            if (!this.courseSummaryComponent) {\n                this.courseSummaryComponent = this.cfDelegate.getCourseSummaryComponent(this.course);\n            }\n            if (!this.sectionSelectorComponent) {\n                this.sectionSelectorComponent = this.cfDelegate.getSectionSelectorComponent(this.course);\n            }\n            if (!this.singleSectionComponent) {\n                this.singleSectionComponent = this.cfDelegate.getSingleSectionComponent(this.course);\n            }\n            if (!this.allSectionsComponent) {\n                this.allSectionsComponent = this.cfDelegate.getAllSectionsComponent(this.course);\n            }\n        }\n    }\n\n    /**\n     * Function called when selected section changes.\n     *\n     * @param {any} newSection The new selected section.\n     */\n    sectionChanged(newSection: any): void {\n        const previousValue = this.selectedSection;\n        this.selectedSection = newSection;\n        this.data.section = this.selectedSection;\n    }\n\n    /**\n     * Compare if two sections are equal.\n     *\n     * @param {any} s1 First section.\n     * @param {any} s2 Second section.\n     * @return {boolean} Whether they're equal.\n     */\n    compareSections(s1: any, s2: any): boolean {\n        return s1 && s2 ? s1.id === s2.id : s1 === s2;\n    }\n\n    /**\n     * Calculate the status of sections.\n     *\n     * @param {boolean} refresh [description]\n     */\n    protected calculateSectionsStatus(refresh?: boolean): void {\n        this.courseHelper.calculateSectionsStatus(this.sections, this.course.id, refresh).catch(() => {\n            // Ignore errors (shouldn't happen).\n        });\n    }\n\n    /**\n     * Confirm and prefetch a section. If the section is \"all sections\", prefetch all the sections.\n     *\n     * @param {Event} e Click event.\n     * @param {any} section Section to download.\n     */\n    prefetch(e: Event, section: any): void {\n        e.preventDefault();\n        e.stopPropagation();\n\n        section.isCalculating = true;\n        this.courseHelper.confirmDownloadSizeSection(this.course.id, section, this.sections).then(() => {\n            this.prefetchSection(section, true);\n        }, (error) => {\n            // User cancelled or there was an error calculating the size.\n            if (error) {\n                this.domUtils.showErrorModal(error);\n            }\n        }).finally(() => {\n            section.isCalculating = false;\n        });\n    }\n\n    /**\n     * Prefetch a section.\n     *\n     * @param {any} section The section to download.\n     * @param {boolean} [manual] Whether the prefetch was started manually or it was automatically started because all modules\n     *                           are being downloaded.\n     */\n    protected prefetchSection(section: any, manual?: boolean): void {\n        this.courseHelper.prefetchSection(section, this.course.id, this.sections).catch((error) => {\n            // Don't show error message if it's an automatic download.\n            if (!manual) {\n                return;\n            }\n\n            this.domUtils.showErrorModalDefault(error, 'core.course.errordownloadingsection', true);\n        });\n    }\n\n    /**\n     * Component destroyed.\n     */\n    ngOnDestroy(): void {\n        if (this.sectionStatusObserver) {\n            this.sectionStatusObserver.off();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/course/components/format/format.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { CoreCourseModuleHandlerButton } from '../../providers/module-delegate';\n\n/**\n * Component to display a module entry in a list of modules.\n *\n * Example usage:\n *\n * <core-course-module [module]=\"module\" [courseId]=\"courseId\" (completionChanged)=\"onCompletionChange()\"></core-course-module>\n */\n@Component({\n    selector: 'core-course-module',\n    templateUrl: 'module.html'\n})\nexport class CoreCourseModuleComponent implements OnInit {\n    @Input() module: any; // The module to render.\n    @Input() courseId: number; // The course the module belongs to.\n    @Output() completionChanged?: EventEmitter<void>; // Will emit an event when the module completion changes.\n\n    constructor(private navCtrl: NavController) {\n        this.completionChanged = new EventEmitter();\n    }\n\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {\n        // Handler data must be defined. If it isn't, set it to prevent errors.\n        if (this.module && !this.module.handlerData) {\n            this.module.handlerData = {};\n        }\n    }\n\n    /**\n     * Function called when the module is clicked.\n     *\n     * @param {Event} event Click event.\n     */\n    moduleClicked(event: Event): void {\n        if (this.module.uservisible !== false && this.module.handlerData.action) {\n            this.module.handlerData.action(event, this.navCtrl, this.module, this.courseId);\n        }\n    }\n\n    /**\n     * Function called when a button is clicked.\n     *\n     * @param {Event} event Click event.\n     * @param {CoreCourseModuleHandlerButton} button The clicked button.\n     */\n    buttonClicked(event: Event, button: CoreCourseModuleHandlerButton): void {\n        if (button && button.action) {\n            button.action(event, this.navCtrl, this.module, this.courseId);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/course/components/module/module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, Output, EventEmitter, OnChanges, SimpleChange } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CoreSitesProvider } from '../../../../providers/sites';\nimport { CoreDomUtilsProvider } from '../../../../providers/utils/dom';\nimport { CoreTextUtilsProvider } from '../../../../providers/utils/text';\nimport { CoreUserProvider } from '../../../user/providers/user';\n\n/**\n * Component to handle activity completion. It shows a checkbox with the current status, and allows manually changing\n * the completion if it's allowed.\n *\n * Example usage:\n *\n * <core-course-module-completion [completion]=\"module.completionstatus\" [moduleName]=\"module.name\"\n *     (completionChanged)=\"completionChanged()\"></core-course-module-completion>\n */\n@Component({\n    selector: 'core-course-module-completion',\n    templateUrl: 'module-completion.html'\n})\nexport class CoreCourseModuleCompletionComponent implements OnChanges {\n    @Input() completion: any; // The completion status.\n    @Input() moduleName?: string; // The name of the module this completion affects.\n    @Output() completionChanged?: EventEmitter<void>; // Will emit an event when the completion changes.\n\n    completionImage: string;\n    completionDescription: string;\n\n    constructor(private textUtils: CoreTextUtilsProvider, private domUtils: CoreDomUtilsProvider,\n            private translate: TranslateService, private sitesProvider: CoreSitesProvider, private userProvider: CoreUserProvider) {\n        this.completionChanged = new EventEmitter();\n    }\n\n    /**\n     * Detect changes on input properties.\n     */\n    ngOnChanges(changes: { [name: string]: SimpleChange }): void {\n        if (changes.completion && this.completion) {\n            this.showStatus();\n        }\n    }\n\n    /**\n     * Completion clicked.\n     *\n     * @param {Event} e The click event.\n     */\n    completionClicked(e: Event): void {\n        if (this.completion) {\n            if (typeof this.completion.cmid == 'undefined' || this.completion.tracking !== 1) {\n                return;\n            }\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            const modal = this.domUtils.showModalLoading(),\n                params = {\n                    cmid: this.completion.cmid,\n                    completed: this.completion.state === 1 ? 0 : 1\n                },\n                currentSite = this.sitesProvider.getCurrentSite();\n\n            currentSite.write('core_completion_update_activity_completion_status_manually', params).then((response) => {\n                if (!response.status) {\n                    return Promise.reject(null);\n                }\n\n                this.completionChanged.emit();\n            }).catch((error) => {\n                this.domUtils.showErrorModalDefault(error, 'core.errorchangecompletion', true);\n            }).finally(() => {\n                modal.dismiss();\n            });\n        }\n    }\n\n    /**\n     * Set image and description to show as completion icon.\n     */\n    protected showStatus(): void {\n        const moduleName = this.moduleName || '';\n        let langKey,\n            image;\n\n        if (this.completion.tracking === 1 && this.completion.state === 0) {\n            image = 'completion-manual-n';\n            langKey = 'core.completion-alt-manual-n';\n        } else if (this.completion.tracking === 1 && this.completion.state === 1) {\n            image = 'completion-manual-y';\n            langKey = 'core.completion-alt-manual-y';\n        } else if (this.completion.tracking === 2 && this.completion.state === 0) {\n            image = 'completion-auto-n';\n            langKey = 'core.completion-alt-auto-n';\n        } else if (this.completion.tracking === 2 && this.completion.state === 1) {\n            image = 'completion-auto-y';\n            langKey = 'core.completion-alt-auto-y';\n        } else if (this.completion.tracking === 2 && this.completion.state === 2) {\n            image = 'completion-auto-pass';\n            langKey = 'core.completion-alt-auto-pass';\n        } else if (this.completion.tracking === 2 && this.completion.state === 3) {\n            image = 'completion-auto-fail';\n            langKey = 'core.completion-alt-auto-fail';\n        }\n\n        if (image) {\n            if (this.completion.overrideby > 0) {\n                image += '-override';\n            }\n            this.completionImage = 'assets/img/completion/' + image + '.svg';\n        }\n\n        if (moduleName) {\n            this.textUtils.formatText(moduleName, true, true, 50).then((modNameFormatted) => {\n                let promise;\n\n                if (this.completion.overrideby > 0) {\n                    langKey += '-override';\n\n                    promise = this.userProvider.getProfile(this.completion.overrideby, this.completion.courseId, true).then(\n                        (profile) => {\n                            return {\n                                overrideuser: profile.fullname,\n                                modname: modNameFormatted\n                            };\n                        });\n                } else {\n                    promise = Promise.resolve(modNameFormatted);\n                }\n\n                return promise.then((translateParams) => {\n                    this.completionDescription = this.translate.instant(langKey, { $a: translateParams });\n                });\n            });\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/course/components/module-completion/module-completion.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input } from '@angular/core';\n\n/**\n * Component to display the description of a module.\n *\n * This directive is meant to display a module description in a similar way throughout all the app.\n *\n * You can add a note at the right side of the description by using the 'note' attribute.\n *\n * You can also pass a component and componentId to be used in format-text.\n *\n * Module descriptions are shortened by default, allowing the user to see the full description by clicking in it.\n * If you want the whole description to be shown you can use the 'showFull' attribute.\n *\n * Example usage:\n *\n * <core-course-module-description [description]=\"myDescription\"></core-course-module-description\n */\n@Component({\n    selector: 'core-course-module-description',\n    templateUrl: 'module-description.html'\n})\nexport class CoreCourseModuleDescriptionComponent {\n    @Input() description: string; // The description to display.\n    @Input() note?: string; // A note to display along with the description.\n    @Input() component?: string; // Component for format text directive.\n    @Input() componentId?: string | number; // Component ID to use in conjunction with the component.\n    @Input() showFull?: string | boolean; // Whether to always display the full description.\n\n    constructor() {\n        // Nothing to do.\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/course/components/module-description/module-description.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, ViewChild, OnDestroy } from '@angular/core';\nimport { IonicPage, NavParams, Content, NavController } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CoreEventsProvider } from '../../../../providers/events';\nimport { CoreSitesProvider } from '../../../../providers/sites';\nimport { CoreDomUtilsProvider } from '../../../../providers/utils/dom';\nimport { CoreTextUtilsProvider } from '../../../../providers/utils/text';\nimport { CoreCourseProvider } from '../../providers/course';\nimport { CoreCourseHelperProvider } from '../../providers/helper';\nimport { CoreCourseFormatDelegate } from '../../providers/format-delegate';\nimport { CoreCourseModulePrefetchDelegate } from '../../providers/module-prefetch-delegate';\nimport { CoreCourseOptionsDelegate, CoreCourseOptionsHandlerToDisplay } from '../../providers/options-delegate';\nimport { CoreCoursesProvider } from '../../../courses/providers/courses';\n\n/**\n * Page that displays the list of courses the user is enrolled in.\n */\n@IonicPage({ segment: 'core-course-section' })\n@Component({\n    selector: 'page-core-course-section',\n    templateUrl: 'section.html',\n})\nexport class CoreCourseSectionPage implements OnDestroy {\n    @ViewChild(Content) content: Content;\n\n    title: string;\n    course: any;\n    sections: any[];\n    sectionId: number;\n    sectionNumber: number;\n    courseHandlers: CoreCourseOptionsHandlerToDisplay[];\n    handlerData: any = {}; // Data to send to the handlers components.\n    dataLoaded: boolean;\n    downloadEnabled: boolean;\n    downloadEnabledIcon = 'square-outline'; // Disabled by default.\n    prefetchCourseData = {\n        prefetchCourseIcon: 'spinner'\n    };\n\n    protected completionObserver;\n    protected courseStatusObserver;\n    protected isDestroyed = false;\n\n    constructor(private navParams: NavParams, private courseProvider: CoreCourseProvider, private domUtils: CoreDomUtilsProvider,\n            private courseFormatDelegate: CoreCourseFormatDelegate, private courseOptionsDelegate: CoreCourseOptionsDelegate,\n            private translate: TranslateService, private courseHelper: CoreCourseHelperProvider, eventsProvider: CoreEventsProvider,\n            private textUtils: CoreTextUtilsProvider, private coursesProvider: CoreCoursesProvider,\n            sitesProvider: CoreSitesProvider, private navCtrl: NavController,\n            private prefetchDelegate: CoreCourseModulePrefetchDelegate) {\n        this.course = navParams.get('course');\n        this.sectionId = navParams.get('sectionId');\n        this.sectionNumber = navParams.get('sectionNumber');\n        this.handlerData.courseId = this.course.id;\n\n        // Get the title to display. We dont't have sections yet.\n        this.title = courseFormatDelegate.getCourseTitle(this.course);\n\n        this.completionObserver = eventsProvider.on(CoreEventsProvider.COMPLETION_MODULE_VIEWED, (data) => {\n            if (data && data.courseId == this.course.id) {\n                this.refreshAfterCompletionChange();\n            }\n        });\n\n        // Listen for changes in course status.\n        this.courseStatusObserver = eventsProvider.on(CoreEventsProvider.COURSE_STATUS_CHANGED, (data) => {\n            if (data.courseId == this.course.id) {\n                this.prefetchCourseData.prefetchCourseIcon = this.courseHelper.getCourseStatusIconFromStatus(data.status);\n            }\n        }, sitesProvider.getCurrentSiteId());\n    }\n\n    /**\n     * View loaded.\n     */\n    ionViewDidLoad(): void {\n\n        const module = this.navParams.get('module');\n        if (module) {\n            this.courseHelper.openModule(this.navCtrl, module, this.course.id, this.sectionId);\n        }\n\n        this.loadData().finally(() => {\n            this.dataLoaded = true;\n\n            // Determine the course prefetch status.\n            this.determineCoursePrefetchIcon().then(() => {\n                if (this.prefetchCourseData.prefetchCourseIcon == 'spinner') {\n                    // Course is being downloaded. Get the download promise.\n                    const promise = this.courseHelper.getCourseDownloadPromise(this.course.id);\n                    if (promise) {\n                        // There is a download promise. Show an error if it fails.\n                        promise.catch((error) => {\n                            if (!this.isDestroyed) {\n                                this.domUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n                            }\n                        });\n                    } else {\n                        // No download, this probably means that the app was closed while downloading. Set previous status.\n                        this.courseProvider.setCoursePreviousStatus(this.course.id).then((status) => {\n                            this.prefetchCourseData.prefetchCourseIcon = this.courseHelper.getCourseStatusIconFromStatus(status);\n                        });\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Fetch and load all the data required for the view.\n     */\n    protected loadData(refresh?: boolean): Promise<any> {\n        // First of all, get the course because the data might have changed.\n        return this.coursesProvider.getUserCourse(this.course.id).catch(() => {\n            // Error getting the course, probably guest access.\n        }).then((course) => {\n            const promises = [];\n            let promise;\n\n            if (course) {\n                this.course = course;\n            }\n\n            // Get the completion status.\n            if (this.course.enablecompletion === false) {\n                // Completion not enabled.\n                promise = Promise.resolve({});\n            } else {\n                promise = this.courseProvider.getActivitiesCompletionStatus(this.course.id).catch(() => {\n                    // It failed, don't use completion.\n                    return {};\n                });\n            }\n\n            promises.push(promise.then((completionStatus) => {\n                // Get all the sections.\n                promises.push(this.courseProvider.getSections(this.course.id, false, true).then((sections) => {\n                    this.courseHelper.addHandlerDataForModules(sections, this.course.id, completionStatus);\n\n                    // Format the name of each section and check if it has content.\n                    this.sections = sections.map((section) => {\n                        this.textUtils.formatText(section.name.trim(), true, true).then((name) => {\n                            section.formattedName = name;\n                        });\n                        section.hasContent = this.courseHelper.sectionHasContent(section);\n\n                        return section;\n                    });\n\n                    if (this.courseFormatDelegate.canViewAllSections(this.course)) {\n                        // Add a fake first section (all sections).\n                        this.sections.unshift({\n                            name: this.translate.instant('core.course.allsections'),\n                            id: CoreCourseProvider.ALL_SECTIONS_ID\n                        });\n                    }\n\n                    // Get the title again now that we have sections.\n                    this.title = this.courseFormatDelegate.getCourseTitle(this.course, this.sections);\n                }));\n            }));\n\n            // Load the course handlers.\n            promises.push(this.courseOptionsDelegate.getHandlersToDisplay(this.course, refresh, false).then((handlers) => {\n                this.courseHandlers = handlers;\n            }));\n\n            return Promise.all(promises).catch((error) => {\n                this.domUtils.showErrorModalDefault(error, 'core.course.couldnotloadsectioncontent', true);\n            });\n        });\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param {any} refresher Refresher.\n     */\n    doRefresh(refresher: any): void {\n        this.invalidateData().finally(() => {\n            this.loadData(true).finally(() => {\n                refresher.complete();\n            });\n        });\n    }\n\n    /**\n     * The completion of any of the modules have changed.\n     */\n    onCompletionChange(): void {\n        this.invalidateData().finally(() => {\n            this.refreshAfterCompletionChange();\n        });\n    }\n\n    /**\n     * Invalidate the data.\n     */\n    protected invalidateData(): Promise<any> {\n        const promises = [];\n\n        promises.push(this.courseProvider.invalidateSections(this.course.id));\n        promises.push(this.coursesProvider.invalidateUserCourses());\n        promises.push(this.courseFormatDelegate.invalidateData(this.course, this.sections));\n\n        if (this.sections) {\n            promises.push(this.prefetchDelegate.invalidateCourseUpdates(this.course.id));\n        }\n\n        return Promise.all(promises);\n    }\n\n    /**\n     * Refresh list after a completion change since there could be new activities.\n     */\n    protected refreshAfterCompletionChange(): void {\n        // Save scroll position to restore it once done.\n        const scrollElement = this.content.getScrollElement(),\n            scrollTop = scrollElement.scrollTop || 0,\n            scrollLeft = scrollElement.scrollLeft || 0;\n\n        this.dataLoaded = false;\n        this.content.scrollToTop(); // Scroll top so the spinner is seen.\n\n        this.loadData().finally(() => {\n            this.dataLoaded = true;\n            this.content.scrollTo(scrollLeft, scrollTop);\n        });\n    }\n\n    /**\n     * Determines the prefetch icon of the course.\n     *\n     * @return {Promise<void>} Promise resolved when done.\n     */\n    protected determineCoursePrefetchIcon(): Promise<void> {\n        return this.courseHelper.getCourseStatusIcon(this.course.id).then((icon) => {\n            this.prefetchCourseData.prefetchCourseIcon = icon;\n        });\n    }\n\n    /**\n     * Prefetch the whole course.\n     */\n    prefetchCourse(): void {\n        this.courseHelper.confirmAndPrefetchCourse(this.prefetchCourseData, this.course, this.sections, this.courseHandlers)\n            .then((downloaded) => {\n                if (downloaded && this.downloadEnabled) {\n                    // Recalculate the status.\n                    this.courseHelper.calculateSectionsStatus(this.sections, this.course.id).catch(() => {\n                        // Ignore errors (shouldn't happen).\n                    });\n                }\n            }).catch((error) => {\n                if (!this.isDestroyed) {\n                    this.domUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n                }\n            });\n    }\n\n    /**\n     * Toggle download enabled.\n     */\n    toggleDownload(): void {\n        this.downloadEnabled = !this.downloadEnabled;\n        this.downloadEnabledIcon = this.downloadEnabled ? 'checkbox-outline' : 'square-outline';\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.isDestroyed = true;\n        if (this.completionObserver) {\n            this.completionObserver.off();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/course/pages/section/section.ts"],"sourceRoot":""}